!function(Q){var F={};function B(U){if(F[U])return F[U].exports;var s=F[U]={i:U,l:!1,exports:{}};return Q[U].call(s.exports,s,s.exports,B),s.l=!0,s.exports}B.m=Q,B.c=F,B.d=function(Q,F,U){B.o(Q,F)||Object.defineProperty(Q,F,{enumerable:!0,get:U})},B.r=function(Q){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},B.t=function(Q,F){if(1&F&&(Q=B(Q)),8&F)return Q;if(4&F&&"object"==typeof Q&&Q&&Q.__esModule)return Q;var U=Object.create(null);if(B.r(U),Object.defineProperty(U,"default",{enumerable:!0,value:Q}),2&F&&"string"!=typeof Q)for(var s in Q)B.d(U,s,function(F){return Q[F]}.bind(null,s));return U},B.n=function(Q){var F=Q&&Q.__esModule?function(){return Q.default}:function(){return Q};return B.d(F,"a",F),F},B.o=function(Q,F){return Object.prototype.hasOwnProperty.call(Q,F)},B.p="",B(B.s=0)}([function(module,exports){eval("// game.js\n// import '@babel/polyfill';\n\n/* Initializing */\nconst socket = io.connect('//' + document.domain + ':' + location.port);\nlet user = 0;\nconst canvas = document.getElementById('canvas');\ncanvas.addEventListener(\"contextmenu\", function (e) {\n  e.preventDefault();\n}, false);\nconst ctx = canvas.getContext('2d');\n\nif (window.innerWidth < 500) {\n  canvas.width = 270;\n  canvas.height = 290;\n}\n\nconst mid_width = canvas.width / 2;\nconst mid_height = canvas.height / 2;\nlet tile_buffer = 0; // Tile Buffer: How large tiles are\n// character start (0,0)\n\nlet cx = 0;\nlet cy = 0;\nlet dir = 0;\nlet sx = 0;\nlet sy = 0;\nlet mouse_down = 0;\nconst tilesheet = new Image();\ntilesheet.src = \"static/tilesheet.png\";\nconst charsheet = new Image();\ncharsheet.src = \"static/charsheet.png\";\nlet map = [];\n/* MAP OPTIONS */\n\nlet tiles = {};\nlet all_users = {};\n/* DRAWING */\n\nctx.font = \"11pt Verdana\";\nctx.textAlign = \"end\";\nconst w = canvas.clientWidth;\nconst h = canvas.clientHeight - 20;\n\nfunction draw() {\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n  for (let x = 0; x < w; x += tile_buffer) {\n    const curr_x = x / tile_buffer + (cx - sx);\n\n    for (let y = 0; y < h; y += tile_buffer) {\n      const tile = map[y / tile_buffer + (cy - sy)][curr_x];\n\n      if (Array.isArray(tile)) {\n        for (const def in tile) {\n          drawTile(tile[def], x, y);\n        }\n      } else {\n        drawTile(tile, x, y);\n      }\n    }\n  }\n\n  drawOthers(); // Fill the local character tile\n\n  if (charsheet.complete) {\n    drawPlayer(sx, sy, dir);\n  } else {\n    charsheet.addEventListener('load', drawPlayer);\n  } // Fill the position\n\n\n  ctx.fillStyle = \"white\";\n  ctx.fillRect(0, canvas.height - 20, canvas.width, 20);\n  ctx.strokeText(\"(\" + cx + \", \" + cy + \")\", 14 * tile_buffer + 30, 15 * tile_buffer + 15);\n}\n\nfunction drawTile(tile, x, y) {\n  ctx.beginPath();\n\n  if (tilesheet.complete) {\n    drawImage(tile, x, y);\n  } else {\n    tilesheet.load = drawImage.bind(tile, x, y);\n  }\n\n  ctx.moveTo(x, y);\n  ctx.lineTo(x + tile_buffer, y);\n  ctx.moveTo(x, y);\n  ctx.lineTo(x, y + tile_buffer);\n  ctx.stroke();\n  ctx.closePath();\n}\n\nfunction drawPlayer(x_, y_, direction) {\n  ctx.strokeStyle = \"transparent\";\n  ctx.drawImage(charsheet, direction * tile_buffer, 0, tile_buffer, tile_buffer, x_ * tile_buffer, y_ * tile_buffer, tile_buffer, tile_buffer);\n}\n\nfunction drawImage(tile, x, y) {\n  ctx.strokeStyle = \"transparent\";\n  ctx.drawImage(tilesheet, tile % 10 * tile_buffer, Math.floor(tile / 10) * tile_buffer, tile_buffer, tile_buffer, x, y, tile_buffer, tile_buffer);\n}\n\nfunction drawOthers() {\n  for (const u in all_users) {\n    if (u != user) {\n      const ucx = all_users[u]['cx'];\n      const ucy = all_users[u]['cy'];\n      const x = ucx - cx;\n      const y = ucy - cy;\n\n      if (x >= -sx && x <= sx && y >= -sy && y <= sy) {\n        // Fill the character tile\n        drawPlayer(x + sx, y + sy, all_users[u]['direction']);\n      }\n    }\n  }\n}\n/* MOVEMENT */\n\n\nfunction sendAction(e) {\n  if (![32, 37, 38, 39, 40, 65, 68, 69, 83, 87].includes(e.keyCode)) return;\n  e.preventDefault();\n\n  if (e.keyCode == 32) {\n    // Spacebar\n    console.log(\"Eventually we will implement the spacebar for interacting\" + \" with items below your character.\");\n  } else if (e.keyCode == 69) {\n    console.log(\"Eventually we will implement the 'e' key for interacting\" + \" with nearby npcs and objects, if your player is facing them!\");\n  }\n\n  socket.emit('json', JSON.stringify({\n    'user': user,\n    'action': e.keyCode\n  }));\n}\n\nfunction determineClick(click_x, click_y) {\n  const mid_offset = 15;\n  const mid_low = mid_width - mid_offset;\n  const mid_high = mid_width - mid_offset;\n\n  if (polygon_click_test(4, [mid_low, mid_high, mid_high, mid_low], // x values\n  [mid_low, mid_low, mid_high, mid_high], // y values\n  click_x, click_y)) {\n    sendAction({\n      'keyCode': 32,\n      'preventDefault': function preventDefault() {}\n    }); // Spacebar\n  } else if (polygon_click_test(3, [0, mid_width, canvas.width], [0, mid_height, 0], click_x, click_y)) {\n    sendAction({\n      'keyCode': 38,\n      'preventDefault': function preventDefault() {}\n    }); // Up\n  } else if (polygon_click_test(3, [0, mid_width, canvas.width], [canvas.height, mid_height, canvas.height], click_x, click_y)) {\n    sendAction({\n      'keyCode': 40,\n      'preventDefault': function preventDefault() {}\n    }); // Down\n  } else if (polygon_click_test(3, [0, mid_width, 0], [0, mid_height, canvas.height], click_x, click_y)) {\n    sendAction({\n      'keyCode': 37,\n      'preventDefault': function preventDefault() {}\n    }); // Left\n  } else if (polygon_click_test(3, [canvas.width, mid_width, canvas.width], [0, mid_height, canvas.height], click_x, click_y)) {\n    sendAction({\n      'keyCode': 39,\n      'preventDefault': function preventDefault() {}\n    }); // Right\n  }\n} // polygon_click_test by Wm. Randolph Franklin\n// int list(int) list(int) int int -> bool\n// Consumes the number of vertices, along with each vertex coordinate,\n// as a list of x coordinates and a second list of y coordinates.\n// Tests against clicked coordinates to determine whether the\n// click was within the polygon formed by said vertices.\n\n\nfunction polygon_click_test(nvert, vertx, verty, testx, testy) {\n  let i,\n      j,\n      c = false;\n\n  for (i = 0, j = nvert - 1; i < nvert; j = i++) {\n    if (verty[i] > testy != verty[j] > testy && testx < (vertx[j] - vertx[i]) * (testy - verty[i]) / (verty[j] - verty[i]) + vertx[i]) {\n      c = !c;\n    }\n  }\n\n  return c;\n}\n\nfunction doMove(movement) {\n  cx = movement['cx'];\n  cy = movement['cy'];\n  dir = movement['direction'];\n}\n\nfunction getClickCoords(e) {\n  e.preventDefault();\n  mouse_down = 1;\n  const click_x = e.offsetX;\n  const click_y = e.offsetY;\n  determineClick(click_x, click_y);\n}\n\nfunction getTouchCoords(e) {\n  e.preventDefault();\n  mouse_down = 2;\n  const click_x = e.touches[0].clientX - canvas.getBoundingClientRect().left;\n  const click_y = e.touches[0].clientY - canvas.getBoundingClientRect().top;\n  determineClick(click_x, click_y);\n}\n\nfunction listener() {\n  document.addEventListener('keydown', sendAction);\n}\n\nfunction clickListener() {\n  canvas.addEventListener('mousedown', getClickCoords);\n  canvas.addEventListener('touchstart', getTouchCoords);\n  mouse_down = 0;\n}\n\nlet last;\n\n(function () {\n  function main(timestamp) {\n    if (!last) {\n      last = timestamp;\n      draw();\n    } else {\n      if (timestamp - last > 100) {\n        draw();\n      }\n    }\n\n    requestAnimationFrame(main);\n  }\n\n  socket.on('connect', function () {\n    listener(); // Begin movement listeners\n\n    clickListener();\n  }); // Recieves and populates initial data.\n\n  socket.on('init_data', function (data) {\n    data = JSON.parse(data);\n    user = data[0];\n    cx = data[1][0];\n    cy = data[1][1];\n    dir = data[1][2];\n    map = data[2]['map'];\n    tile_buffer = data[3][0];\n\n    if (canvas.width < 450) {\n      sx = 4;\n      sy = 4;\n    } else {\n      sx = data[3][1];\n      sy = data[3][2];\n    }\n\n    main(); // Start the cycle\n  });\n  socket.on('tiles', function (data) {\n    tiles = JSON.parse(data);\n  }); // Recieves and populates map data.\n\n  socket.on('map_data', function (data) {\n    data = JSON.parse(data);\n  }); // Moves the local player\n\n  socket.on('movement_self', function (data) {\n    data = JSON.parse(data);\n    if (user == data['user']) doMove(data);\n  }); // Updates all players\n\n  socket.on('update_all', function (data) {\n    all_users = JSON.parse(data);\n  });\n  socket.on('failure', function (data) {\n    console.log('Unsynchronized.');\n  });\n})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9nYW1lLmpzP2U2NTciXSwibmFtZXMiOlsic29ja2V0IiwiaW8iLCJjb25uZWN0IiwiZG9jdW1lbnQiLCJkb21haW4iLCJsb2NhdGlvbiIsInBvcnQiLCJ1c2VyIiwiY2FudmFzIiwiZ2V0RWxlbWVudEJ5SWQiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInByZXZlbnREZWZhdWx0IiwiY3R4IiwiZ2V0Q29udGV4dCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJ3aWR0aCIsImhlaWdodCIsIm1pZF93aWR0aCIsIm1pZF9oZWlnaHQiLCJ0aWxlX2J1ZmZlciIsImN4IiwiY3kiLCJkaXIiLCJzeCIsInN5IiwibW91c2VfZG93biIsInRpbGVzaGVldCIsIkltYWdlIiwic3JjIiwiY2hhcnNoZWV0IiwibWFwIiwidGlsZXMiLCJhbGxfdXNlcnMiLCJmb250IiwidGV4dEFsaWduIiwidyIsImNsaWVudFdpZHRoIiwiaCIsImNsaWVudEhlaWdodCIsImRyYXciLCJjbGVhclJlY3QiLCJ4IiwiY3Vycl94IiwieSIsInRpbGUiLCJBcnJheSIsImlzQXJyYXkiLCJkZWYiLCJkcmF3VGlsZSIsImRyYXdPdGhlcnMiLCJjb21wbGV0ZSIsImRyYXdQbGF5ZXIiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsInN0cm9rZVRleHQiLCJiZWdpblBhdGgiLCJkcmF3SW1hZ2UiLCJsb2FkIiwiYmluZCIsIm1vdmVUbyIsImxpbmVUbyIsInN0cm9rZSIsImNsb3NlUGF0aCIsInhfIiwieV8iLCJkaXJlY3Rpb24iLCJzdHJva2VTdHlsZSIsIk1hdGgiLCJmbG9vciIsInUiLCJ1Y3giLCJ1Y3kiLCJzZW5kQWN0aW9uIiwiaW5jbHVkZXMiLCJrZXlDb2RlIiwiY29uc29sZSIsImxvZyIsImVtaXQiLCJKU09OIiwic3RyaW5naWZ5IiwiZGV0ZXJtaW5lQ2xpY2siLCJjbGlja194IiwiY2xpY2tfeSIsIm1pZF9vZmZzZXQiLCJtaWRfbG93IiwibWlkX2hpZ2giLCJwb2x5Z29uX2NsaWNrX3Rlc3QiLCJudmVydCIsInZlcnR4IiwidmVydHkiLCJ0ZXN0eCIsInRlc3R5IiwiaSIsImoiLCJjIiwiZG9Nb3ZlIiwibW92ZW1lbnQiLCJnZXRDbGlja0Nvb3JkcyIsIm9mZnNldFgiLCJvZmZzZXRZIiwiZ2V0VG91Y2hDb29yZHMiLCJ0b3VjaGVzIiwiY2xpZW50WCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImxlZnQiLCJjbGllbnRZIiwidG9wIiwibGlzdGVuZXIiLCJjbGlja0xpc3RlbmVyIiwibGFzdCIsIm1haW4iLCJ0aW1lc3RhbXAiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJvbiIsImRhdGEiLCJwYXJzZSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFFQTs7QUFFQTtBQUNBLE1BQU1BLE1BQU0sR0FBR0MsRUFBRSxDQUFDQyxPQUFILENBQVcsT0FBT0MsUUFBUSxDQUFDQyxNQUFoQixHQUF5QixHQUF6QixHQUErQkMsUUFBUSxDQUFDQyxJQUFuRCxDQUFmO0FBRUEsSUFBSUMsSUFBSSxHQUFHLENBQVg7QUFFQSxNQUFNQyxNQUFNLEdBQUdMLFFBQVEsQ0FBQ00sY0FBVCxDQUF3QixRQUF4QixDQUFmO0FBQ0FELE1BQU0sQ0FBQ0UsZ0JBQVAsQ0FBd0IsYUFBeEIsRUFDRSxVQUFVQyxDQUFWLEVBQWE7QUFBQ0EsR0FBQyxDQUFDQyxjQUFGO0FBQW9CLENBRHBDLEVBQ3NDLEtBRHRDO0FBR0EsTUFBTUMsR0FBRyxHQUFHTCxNQUFNLENBQUNNLFVBQVAsQ0FBa0IsSUFBbEIsQ0FBWjs7QUFFQSxJQUFJQyxNQUFNLENBQUNDLFVBQVAsR0FBb0IsR0FBeEIsRUFBNkI7QUFDM0JSLFFBQU0sQ0FBQ1MsS0FBUCxHQUFlLEdBQWY7QUFDQVQsUUFBTSxDQUFDVSxNQUFQLEdBQWdCLEdBQWhCO0FBQ0Q7O0FBRUQsTUFBTUMsU0FBUyxHQUFHWCxNQUFNLENBQUNTLEtBQVAsR0FBZSxDQUFqQztBQUNBLE1BQU1HLFVBQVUsR0FBR1osTUFBTSxDQUFDVSxNQUFQLEdBQWdCLENBQW5D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USxDQUFSLENBQUw7QUFDQTFGLFFBQUUsR0FBRzBGLElBQUksQ0FBQyxDQUFELENBQUosQ0FBUSxDQUFSLENBQUw7QUFDRDs7QUFDREosUUFBSSxHQWhCaUMsQ0FnQjdCO0FBQ1QsR0FqQkQ7QUFtQkFoSCxRQUFNLENBQUNtSCxFQUFQLENBQVUsT0FBVixFQUFtQixVQUFVQyxJQUFWLEVBQWdCO0FBQ2pDbkYsU0FBSyxHQUFHK0MsSUFBSSxDQUFDcUMsS0FBTCxDQUFXRCxJQUFYLENBQVI7QUFDRCxHQUZELEVBdkNXLENBMkNYOztBQUNBcEgsUUFBTSxDQUFDbUgsRUFBUCxDQUFVLFVBQVYsRUFBc0IsVUFBVUMsSUFBVixFQUFnQjtBQUNwQ0EsUUFBSSxHQUFHcEMsSUFBSSxDQUFDcUMsS0FBTCxDQUFXRCxJQUFYLENBQVA7QUFDRCxHQUZELEVBNUNXLENBZ0RYOztBQUNBcEgsUUFBTSxDQUFDbUgsRUFBUCxDQUFVLGVBQVYsRUFBMkIsVUFBVUMsSUFBVixFQUFnQjtBQUN6Q0EsUUFBSSxHQUFHcEMsSUFBSSxDQUFDcUMsS0FBTCxDQUFXRCxJQUFYLENBQVA7QUFDQSxRQUFJN0csSUFBSSxJQUFJNkcsSUFBSSxDQUFDLE1BQUQsQ0FBaEIsRUFDRW5CLE1BQU0sQ0FBQ21CLElBQUQsQ0FBTjtBQUNILEdBSkQsRUFqRFcsQ0F1RFg7O0FBQ0FwSCxRQUFNLENBQUNtSCxFQUFQLENBQVUsWUFBVixFQUF3QixVQUFVQyxJQUFWLEVBQWdCO0FBQ3RDbEYsYUFBUyxHQUFHOEMsSUFBSSxDQUFDcUMsS0FBTCxDQUFXRCxJQUFYLENBQVo7QUFDRCxHQUZEO0FBSUFwSCxRQUFNLENBQUNtSCxFQUFQLENBQVUsU0FBVixFQUFxQixVQUFVQyxJQUFWLEVBQWdCO0FBQ25DdkMsV0FBTyxDQUFDQyxHQUFSLENBQVksaUJBQVo7QUFDRCxHQUZEO0FBR0QsQ0EvREQiLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGdhbWUuanNcclxuXHJcbi8vIGltcG9ydCAnQGJhYmVsL3BvbHlmaWxsJztcclxuXHJcbi8qIEluaXRpYWxpemluZyAqL1xyXG5jb25zdCBzb2NrZXQgPSBpby5jb25uZWN0KCcvLycgKyBkb2N1bWVudC5kb21haW4gKyAnOicgKyBsb2NhdGlvbi5wb3J0KTtcclxuXHJcbmxldCB1c2VyID0gMDtcclxuXHJcbmNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMnKTtcclxuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJjb250ZXh0bWVudVwiLFxyXG4gIGZ1bmN0aW9uIChlKSB7ZS5wcmV2ZW50RGVmYXVsdCgpO30sIGZhbHNlKTtcclxuXHJcbmNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG5cclxuaWYgKHdpbmRvdy5pbm5lcldpZHRoIDwgNTAwKSB7XHJcbiAgY2FudmFzLndpZHRoID0gMjcwO1xyXG4gIGNhbnZhcy5oZWlnaHQgPSAyOTA7XHJcbn1cclxuXHJcbmNvbnN0IG1pZF93aWR0aCA9IGNhbnZhcy53aWR0aCAvIDI7XHJcbmNvbnN0IG1pZF9oZWlnaHQgPSBjYW52YXMuaGVpZ2h0IC8gMjtcclxuXHJcbmxldCB0aWxlX2J1ZmZlciA9IDA7IC8vIFRpbGUgQnVmZmVyOiBIb3cgbGFyZ2UgdGlsZXMgYXJlXHJcblxyXG4vLyBjaGFyYWN0ZXIgc3RhcnQgKDAsMClcclxubGV0IGN4ID0gMDtcclxubGV0IGN5ID0gMDtcclxubGV0IGRpciA9IDA7XHJcblxyXG5sZXQgc3ggPSAwO1xyXG5sZXQgc3kgPSAwO1xyXG5cclxubGV0IG1vdXNlX2Rvd24gPSAwO1xyXG5cclxuY29uc3QgdGlsZXNoZWV0ID0gbmV3IEltYWdlKCk7XHJcbnRpbGVzaGVldC5zcmMgPSBcInN0YXRpYy90aWxlc2hlZXQucG5nXCI7XHJcblxyXG5jb25zdCBjaGFyc2hlZXQgPSBuZXcgSW1hZ2UoKTtcclxuY2hhcnNoZWV0LnNyYyA9IFwic3RhdGljL2NoYXJzaGVldC5wbmdcIjtcclxuXHJcbmxldCBtYXAgPSBbXTtcclxuXHJcbi8qIE1BUCBPUFRJT05TICovXHJcbmxldCB0aWxlcyA9IHt9O1xyXG5sZXQgYWxsX3VzZXJzID0ge307XHJcblxyXG4vKiBEUkFXSU5HICovXHJcbmN0eC5mb250ID0gXCIxMXB0IFZlcmRhbmFcIjtcclxuY3R4LnRleHRBbGlnbiA9IFwiZW5kXCI7XHJcbmNvbnN0IHcgPSBjYW52YXMuY2xpZW50V2lkdGg7XHJcbmNvbnN0IGggPSBjYW52YXMuY2xpZW50SGVpZ2h0IC0gMjA7XHJcbmZ1bmN0aW9uIGRyYXcoKSB7XHJcbiAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xyXG4gIGZvciAobGV0IHggPSAwOyB4IDwgdzsgeCArPSB0aWxlX2J1ZmZlcikge1xyXG4gICAgY29uc3QgY3Vycl94ID0geC90aWxlX2J1ZmZlcisoY3gtc3gpO1xyXG4gICAgZm9yIChsZXQgeSA9IDA7IHkgPCBoOyB5ICs9IHRpbGVfYnVmZmVyKSB7XHJcbiAgICAgIGNvbnN0IHRpbGUgPSBtYXBbeS90aWxlX2J1ZmZlcisoY3ktc3kpXVtjdXJyX3hdO1xyXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aWxlKSkge1xyXG4gICAgICAgIGZvciAoY29uc3QgZGVmIGluIHRpbGUpIHtcclxuICAgICAgICAgIGRyYXdUaWxlKHRpbGVbZGVmXSwgeCwgeSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIGRyYXdUaWxlKHRpbGUsIHgsIHkpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBkcmF3T3RoZXJzKCk7XHJcblxyXG4gIC8vIEZpbGwgdGhlIGxvY2FsIGNoYXJhY3RlciB0aWxlXHJcbiAgaWYgKGNoYXJzaGVldC5jb21wbGV0ZSkge1xyXG4gICAgZHJhd1BsYXllcihzeCwgc3ksIGRpcik7XHJcbiAgfVxyXG4gIGVsc2Uge1xyXG4gICAgY2hhcnNoZWV0LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBkcmF3UGxheWVyKTtcclxuICB9XHJcblxyXG4gIC8vIEZpbGwgdGhlIHBvc2l0aW9uXHJcbiAgY3R4LmZpbGxTdHlsZSA9IFwid2hpdGVcIjtcclxuICBjdHguZmlsbFJlY3QoMCwgY2FudmFzLmhlaWdodCAtIDIwLCBjYW52YXMud2lkdGgsIDIwKTtcclxuICBjdHguc3Ryb2tlVGV4dChcclxuICAgIFwiKFwiICsgY3ggKyBcIiwgXCIgKyBjeSArIFwiKVwiLFxyXG4gICAgMTQqdGlsZV9idWZmZXIrMzAsIDE1KnRpbGVfYnVmZmVyKzE1XHJcbiAgKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZHJhd1RpbGUodGlsZSwgeCwgeSkge1xyXG4gIGN0eC5iZWdpblBhdGgoKTtcclxuICBpZiAodGlsZXNoZWV0LmNvbXBsZXRlKSB7XHJcbiAgICBkcmF3SW1hZ2UodGlsZSwgeCwgeSk7XHJcbiAgfVxyXG4gIGVsc2Uge1xyXG4gICAgdGlsZXNoZWV0LmxvYWQgPSBkcmF3SW1hZ2UuYmluZCh0aWxlLCB4LCB5KTtcclxuICB9XHJcbiAgY3R4Lm1vdmVUbyh4LCB5KTtcclxuICBjdHgubGluZVRvKHggKyB0aWxlX2J1ZmZlciwgeSk7XHJcbiAgY3R4Lm1vdmVUbyh4LCB5KTtcclxuICBjdHgubGluZVRvKHgsIHkgKyB0aWxlX2J1ZmZlcik7XHJcbiAgY3R4LnN0cm9rZSgpO1xyXG4gIGN0eC5jbG9zZVBhdGgoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZHJhd1BsYXllcih4XywgeV8sIGRpcmVjdGlvbikge1xyXG4gIGN0eC5zdHJva2VTdHlsZSA9IFwidHJhbnNwYXJlbnRcIjtcclxuICBjdHguZHJhd0ltYWdlKGNoYXJzaGVldCwgZGlyZWN0aW9uICogdGlsZV9idWZmZXIsIDAsXHJcbiAgICB0aWxlX2J1ZmZlciwgdGlsZV9idWZmZXIsIHhfKnRpbGVfYnVmZmVyLCB5Xyp0aWxlX2J1ZmZlciwgdGlsZV9idWZmZXIsIHRpbGVfYnVmZmVyKVxyXG59XHJcblxyXG5mdW5jdGlvbiBkcmF3SW1hZ2UodGlsZSwgeCwgeSkge1xyXG4gIGN0eC5zdHJva2VTdHlsZSA9IFwidHJhbnNwYXJlbnRcIjtcclxuICBjdHguZHJhd0ltYWdlKHRpbGVzaGVldCwgKHRpbGUgJSAxMCkgKiB0aWxlX2J1ZmZlciwgTWF0aC5mbG9vcih0aWxlIC8gMTApICogdGlsZV9idWZmZXIsXHJcbiAgICB0aWxlX2J1ZmZlciwgdGlsZV9idWZmZXIsIHgsIHksIHRpbGVfYnVmZmVyLCB0aWxlX2J1ZmZlcik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRyYXdPdGhlcnMoKSB7XHJcbiAgZm9yIChjb25zdCB1IGluIGFsbF91c2Vycykge1xyXG4gICAgaWYgKHUgIT0gdXNlcikge1xyXG4gICAgICBjb25zdCB1Y3ggPSBhbGxfdXNlcnNbdV1bJ2N4J107XHJcbiAgICAgIGNvbnN0IHVjeSA9IGFsbF91c2Vyc1t1XVsnY3knXTtcclxuICAgICAgY29uc3QgeCA9IHVjeCAtIGN4O1xyXG4gICAgICBjb25zdCB5ID0gdWN5IC0gY3k7XHJcbiAgICAgIGlmICh4ID49IC1zeCAmJiB4IDw9IHN4ICYmIHkgPj0gLXN5ICYmIHkgPD0gc3kpIHtcclxuICAgICAgICAvLyBGaWxsIHRoZSBjaGFyYWN0ZXIgdGlsZVxyXG4gICAgICAgIGRyYXdQbGF5ZXIoeCtzeCwgeStzeSwgYWxsX3VzZXJzW3VdWydkaXJlY3Rpb24nXSlcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuXHJcbi8qIE1PVkVNRU5UICovXHJcbmZ1bmN0aW9uIHNlbmRBY3Rpb24oZSkge1xyXG4gIGlmICghW1xyXG4gICAgMzIsIDM3LCAzOCwgMzksIDQwLCA2NSwgNjgsIDY5LCA4MywgODdcclxuICBdLmluY2x1ZGVzKGUua2V5Q29kZSkpIHJldHVybjtcclxuICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gIGlmIChlLmtleUNvZGUgPT0gMzIpIHsgLy8gU3BhY2ViYXJcclxuICAgIGNvbnNvbGUubG9nKFwiRXZlbnR1YWxseSB3ZSB3aWxsIGltcGxlbWVudCB0aGUgc3BhY2ViYXIgZm9yIGludGVyYWN0aW5nXCJcclxuICAgICAgKyBcIiB3aXRoIGl0ZW1zIGJlbG93IHlvdXIgY2hhcmFjdGVyLlwiKTtcclxuICB9XHJcblxyXG4gIGVsc2UgaWYgKGUua2V5Q29kZSA9PSA2OSkge1xyXG4gICAgY29uc29sZS5sb2coXCJFdmVudHVhbGx5IHdlIHdpbGwgaW1wbGVtZW50IHRoZSAnZScga2V5IGZvciBpbnRlcmFjdGluZ1wiXHJcbiAgICAgICsgXCIgd2l0aCBuZWFyYnkgbnBjcyBhbmQgb2JqZWN0cywgaWYgeW91ciBwbGF5ZXIgaXMgZmFjaW5nIHRoZW0hXCIpO1xyXG4gIH1cclxuXHJcbiAgc29ja2V0LmVtaXQoJ2pzb24nLCBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAndXNlcic6IHVzZXIsXHJcbiAgICAnYWN0aW9uJzogZS5rZXlDb2RlLFxyXG4gIH0pKVxyXG59XHJcblxyXG5mdW5jdGlvbiBkZXRlcm1pbmVDbGljayhjbGlja194LCBjbGlja195KSB7XHJcbiAgY29uc3QgbWlkX29mZnNldCA9IDE1O1xyXG4gIGNvbnN0IG1pZF9sb3cgPSBtaWRfd2lkdGggLSBtaWRfb2Zmc2V0O1xyXG4gIGNvbnN0IG1pZF9oaWdoID0gbWlkX3dpZHRoIC0gbWlkX29mZnNldDtcclxuICBpZiAocG9seWdvbl9jbGlja190ZXN0KDQsXHJcbiAgICBbbWlkX2xvdywgbWlkX2hpZ2gsIG1pZF9oaWdoLCBtaWRfbG93XSwgLy8geCB2YWx1ZXNcclxuICAgIFttaWRfbG93LCBtaWRfbG93LCBtaWRfaGlnaCwgbWlkX2hpZ2hdLCAvLyB5IHZhbHVlc1xyXG4gICAgY2xpY2tfeCwgY2xpY2tfeSkpIHtcclxuICAgIHNlbmRBY3Rpb24oeydrZXlDb2RlJzogMzIsICdwcmV2ZW50RGVmYXVsdCc6IGZ1bmN0aW9uKCl7fX0pOyAvLyBTcGFjZWJhclxyXG4gIH1cclxuICBlbHNlIGlmIChwb2x5Z29uX2NsaWNrX3Rlc3QoMyxcclxuICAgIFswLCBtaWRfd2lkdGgsIGNhbnZhcy53aWR0aF0sIFswLCBtaWRfaGVpZ2h0LCAwXSxcclxuICAgIGNsaWNrX3gsIGNsaWNrX3kpKSB7XHJcbiAgICBzZW5kQWN0aW9uKHsna2V5Q29kZSc6IDM4LCAncHJldmVudERlZmF1bHQnOiBmdW5jdGlvbigpe319KTsgLy8gVXBcclxuICB9XHJcbiAgZWxzZSBpZiAocG9seWdvbl9jbGlja190ZXN0KDMsXHJcbiAgICBbMCwgbWlkX3dpZHRoLCBjYW52YXMud2lkdGhdLCBbY2FudmFzLmhlaWdodCwgbWlkX2hlaWdodCwgY2FudmFzLmhlaWdodF0sXHJcbiAgICBjbGlja194LCBjbGlja195KSkge1xyXG4gICAgc2VuZEFjdGlvbih7J2tleUNvZGUnOiA0MCwgJ3ByZXZlbnREZWZhdWx0JzogZnVuY3Rpb24oKXt9fSk7IC8vIERvd25cclxuICB9XHJcbiAgZWxzZSBpZiAocG9seWdvbl9jbGlja190ZXN0KDMsXHJcbiAgICBbMCwgbWlkX3dpZHRoLCAwXSwgWzAsIG1pZF9oZWlnaHQsIGNhbnZhcy5oZWlnaHRdLFxyXG4gICAgY2xpY2tfeCwgY2xpY2tfeSkpIHtcclxuICAgIHNlbmRBY3Rpb24oeydrZXlDb2RlJzogMzcsICdwcmV2ZW50RGVmYXVsdCc6IGZ1bmN0aW9uKCl7fX0pOyAvLyBMZWZ0XHJcbiAgfVxyXG4gIGVsc2UgaWYgKHBvbHlnb25fY2xpY2tfdGVzdCgzLFxyXG4gICAgW2NhbnZhcy53aWR0aCwgbWlkX3dpZHRoLCBjYW52YXMud2lkdGhdLCBbMCwgbWlkX2hlaWdodCwgY2FudmFzLmhlaWdodF0sXHJcbiAgICBjbGlja194LCBjbGlja195KSkge1xyXG4gICAgc2VuZEFjdGlvbih7J2tleUNvZGUnOiAzOSwgJ3ByZXZlbnREZWZhdWx0JzogZnVuY3Rpb24oKXt9fSk7IC8vIFJpZ2h0XHJcbiAgfVxyXG59XHJcblxyXG4vLyBwb2x5Z29uX2NsaWNrX3Rlc3QgYnkgV20uIFJhbmRvbHBoIEZyYW5rbGluXHJcbi8vIGludCBsaXN0KGludCkgbGlzdChpbnQpIGludCBpbnQgLT4gYm9vbFxyXG4vLyBDb25zdW1lcyB0aGUgbnVtYmVyIG9mIHZlcnRpY2VzLCBhbG9uZyB3aXRoIGVhY2ggdmVydGV4IGNvb3JkaW5hdGUsXHJcbi8vIGFzIGEgbGlzdCBvZiB4IGNvb3JkaW5hdGVzIGFuZCBhIHNlY29uZCBsaXN0IG9mIHkgY29vcmRpbmF0ZXMuXHJcbi8vIFRlc3RzIGFnYWluc3QgY2xpY2tlZCBjb29yZGluYXRlcyB0byBkZXRlcm1pbmUgd2hldGhlciB0aGVcclxuLy8gY2xpY2sgd2FzIHdpdGhpbiB0aGUgcG9seWdvbiBmb3JtZWQgYnkgc2FpZCB2ZXJ0aWNlcy5cclxuZnVuY3Rpb24gcG9seWdvbl9jbGlja190ZXN0KCBudmVydCwgdmVydHgsIHZlcnR5LCB0ZXN0eCwgdGVzdHkgKSB7XHJcbiAgICBsZXQgaSwgaiwgYyA9IGZhbHNlO1xyXG4gICAgZm9yKCBpID0gMCwgaiA9IG52ZXJ0LTE7IGkgPCBudmVydDsgaiA9IGkrKyApIHtcclxuICAgICAgICBpZiggKCAoIHZlcnR5W2ldID4gdGVzdHkgKSAhPSAoIHZlcnR5W2pdID4gdGVzdHkgKSApICYmXHJcbiAgICAgICAgICAgICggdGVzdHggPCAoIHZlcnR4W2pdIC0gdmVydHhbaV0gKSAqICggdGVzdHkgLSB2ZXJ0eVtpXSApIC8gKCB2ZXJ0eVtqXSAtIHZlcnR5W2ldICkgKyB2ZXJ0eFtpXSApICkge1xyXG4gICAgICAgICAgICAgICAgYyA9ICFjO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBjO1xyXG59XHJcblxyXG5mdW5jdGlvbiBkb01vdmUobW92ZW1lbnQpIHtcclxuICBjeCA9IG1vdmVtZW50WydjeCddO1xyXG4gIGN5ID0gbW92ZW1lbnRbJ2N5J107XHJcbiAgZGlyID0gbW92ZW1lbnRbJ2RpcmVjdGlvbiddO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRDbGlja0Nvb3JkcyhlKSB7XHJcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIG1vdXNlX2Rvd24gPSAxO1xyXG4gIGNvbnN0IGNsaWNrX3ggPSBlLm9mZnNldFg7XHJcbiAgY29uc3QgY2xpY2tfeSA9IGUub2Zmc2V0WTtcclxuICBkZXRlcm1pbmVDbGljayhjbGlja194LCBjbGlja195KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0VG91Y2hDb29yZHMoZSkge1xyXG4gIGUucHJldmVudERlZmF1bHQoKTtcclxuICBtb3VzZV9kb3duID0gMjtcclxuICBjb25zdCBjbGlja194ID0gZS50b3VjaGVzWzBdLmNsaWVudFggLSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcclxuICBjb25zdCBjbGlja195ID0gZS50b3VjaGVzWzBdLmNsaWVudFkgLSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG4gIGRldGVybWluZUNsaWNrKGNsaWNrX3gsIGNsaWNrX3kpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBsaXN0ZW5lcigpIHtcclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgc2VuZEFjdGlvbik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNsaWNrTGlzdGVuZXIoKSB7XHJcbiAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGdldENsaWNrQ29vcmRzKTtcclxuICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGdldFRvdWNoQ29vcmRzKTtcclxuICBtb3VzZV9kb3duID0gMDtcclxufVxyXG5cclxubGV0IGxhc3Q7XHJcbihmdW5jdGlvbiAoKSB7XHJcbiAgZnVuY3Rpb24gbWFpbiggdGltZXN0YW1wICkge1xyXG4gICAgaWYgKCFsYXN0KSB7XHJcbiAgICAgIGxhc3QgPSB0aW1lc3RhbXBcclxuICAgICAgZHJhdygpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGlmICh0aW1lc3RhbXAgLSBsYXN0ID4gMTAwKSB7XHJcbiAgICAgICAgZHJhdygpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoIG1haW4gKTtcclxuICB9XHJcblxyXG4gIHNvY2tldC5vbignY29ubmVjdCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgbGlzdGVuZXIoKTsgLy8gQmVnaW4gbW92ZW1lbnQgbGlzdGVuZXJzXHJcbiAgICBjbGlja0xpc3RlbmVyKCk7XHJcbiAgfSk7XHJcblxyXG4gIC8vIFJlY2lldmVzIGFuZCBwb3B1bGF0ZXMgaW5pdGlhbCBkYXRhLlxyXG4gIHNvY2tldC5vbignaW5pdF9kYXRhJywgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xyXG4gICAgdXNlciA9IGRhdGFbMF07XHJcbiAgICBjeCA9IGRhdGFbMV1bMF07XHJcbiAgICBjeSA9IGRhdGFbMV1bMV07XHJcbiAgICBkaXIgPSBkYXRhWzFdWzJdO1xyXG4gICAgbWFwICA9IGRhdGFbMl1bJ21hcCddO1xyXG4gICAgdGlsZV9idWZmZXIgPSBkYXRhWzNdWzBdO1xyXG4gICAgaWYgKGNhbnZhcy53aWR0aCA8IDQ1MCkge1xyXG4gICAgICBzeCA9IDQ7XHJcbiAgICAgIHN5ID0gNDtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBzeCA9IGRhdGFbM11bMV07XHJcbiAgICAgIHN5ID0gZGF0YVszXVsyXTtcclxuICAgIH1cclxuICAgIG1haW4oKTsgLy8gU3RhcnQgdGhlIGN5Y2xlXHJcbiAgfSk7XHJcblxyXG4gIHNvY2tldC5vbigndGlsZXMnLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgdGlsZXMgPSBKU09OLnBhcnNlKGRhdGEpO1xyXG4gIH0pO1xyXG5cclxuICAvLyBSZWNpZXZlcyBhbmQgcG9wdWxhdGVzIG1hcCBkYXRhLlxyXG4gIHNvY2tldC5vbignbWFwX2RhdGEnLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgZGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7XHJcbiAgfSk7XHJcblxyXG4gIC8vIE1vdmVzIHRoZSBsb2NhbCBwbGF5ZXJcclxuICBzb2NrZXQub24oJ21vdmVtZW50X3NlbGYnLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgZGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7XHJcbiAgICBpZiAodXNlciA9PSBkYXRhWyd1c2VyJ10pXHJcbiAgICAgIGRvTW92ZShkYXRhKTtcclxuICB9KTtcclxuXHJcbiAgLy8gVXBkYXRlcyBhbGwgcGxheWVyc1xyXG4gIHNvY2tldC5vbigndXBkYXRlX2FsbCcsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICBhbGxfdXNlcnMgPSBKU09OLnBhcnNlKGRhdGEpO1xyXG4gIH0pO1xyXG5cclxuICBzb2NrZXQub24oJ2ZhaWx1cmUnLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgY29uc29sZS5sb2coJ1Vuc3luY2hyb25pemVkLicpO1xyXG4gIH0pO1xyXG59KSgpO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n")}]);