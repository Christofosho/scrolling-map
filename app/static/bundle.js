!function(Q){var F={};function B(U){if(F[U])return F[U].exports;var s=F[U]={i:U,l:!1,exports:{}};return Q[U].call(s.exports,s,s.exports,B),s.l=!0,s.exports}B.m=Q,B.c=F,B.d=function(Q,F,U){B.o(Q,F)||Object.defineProperty(Q,F,{enumerable:!0,get:U})},B.r=function(Q){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},B.t=function(Q,F){if(1&F&&(Q=B(Q)),8&F)return Q;if(4&F&&"object"==typeof Q&&Q&&Q.__esModule)return Q;var U=Object.create(null);if(B.r(U),Object.defineProperty(U,"default",{enumerable:!0,value:Q}),2&F&&"string"!=typeof Q)for(var s in Q)B.d(U,s,function(F){return Q[F]}.bind(null,s));return U},B.n=function(Q){var F=Q&&Q.__esModule?function(){return Q.default}:function(){return Q};return B.d(F,"a",F),F},B.o=function(Q,F){return Object.prototype.hasOwnProperty.call(Q,F)},B.p="",B(B.s=0)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./js/draw.js\n// draw.js\n\nconst canvas = document.getElementById('canvas');\ncanvas.addEventListener(\"contextmenu\", function (e) {\n  e.preventDefault();\n}, false);\nconst ctx = canvas.getContext('2d'); // Rows of 10 30x30 tiles.\n\nconst tilesheet = new Image();\ntilesheet.src = \"static/tilesheet.png\";\nconst charsheet = new Image();\ncharsheet.src = \"static/charsheet.png\"; // Small windows means smaller canvas.\n\nif (window.innerWidth < 500) {\n  canvas.width = 270;\n  canvas.height = 290;\n}\n/* DRAWING */\n\n\nfunction draw() {\n  const canvas_height = canvas.height - 20;\n  ctx.clearRect(0, 0, canvas.width, canvas_height);\n\n  for (let x = 0; x < canvas.width; x += tile_buffer) {\n    const curr_x = x / tile_buffer + (cx - sx);\n\n    for (let y = 0; y < canvas_height; y += tile_buffer) {\n      const tile = map[y / tile_buffer + (cy - sy)][curr_x];\n\n      if (Array.isArray(tile)) {\n        for (const def in tile) {\n          drawTile(tile[def], x, y);\n        }\n      } else {\n        drawTile(tile, x, y);\n      }\n    }\n  }\n\n  drawOthers(); // Fill the local character tile\n\n  if (charsheet.complete) {\n    drawPlayer(sx, sy, dir, user);\n  } else {\n    charsheet.addEventListener('load', drawPlayer);\n  } // Fill the position\n\n\n  ctx.fillStyle = \"white\";\n  ctx.strokeStyle = \"black\";\n  ctx.fillRect(0, canvas_height, canvas.width, 20);\n  ctx.strokeText(\"(\" + cx + \", \" + cy + \")\", canvas.width - 40, canvas_height + 10);\n}\n\nfunction drawTile(tile, x, y) {\n  ctx.beginPath();\n\n  if (tilesheet.complete) {\n    drawImage(tile, x, y);\n  } else {\n    tilesheet.load = drawImage.bind(tile, x, y);\n  }\n\n  ctx.moveTo(x, y);\n  ctx.lineTo(x + tile_buffer, y);\n  ctx.moveTo(x, y);\n  ctx.lineTo(x, y + tile_buffer);\n  ctx.stroke();\n  ctx.closePath();\n}\n\nfunction drawPlayer(x_, y_, direction, username) {\n  ctx.strokeStyle = \"transparent\";\n  ctx.drawImage(charsheet, direction * tile_buffer, 0, tile_buffer, tile_buffer, x_ * tile_buffer, y_ * tile_buffer, tile_buffer, tile_buffer);\n  ctx.fillStyle = \"black\";\n  ctx.font = \"10pt Arial\";\n  ctx.textBaseline = \"middle\";\n  ctx.textAlign = \"center\";\n  ctx.fillText(username, x_ * tile_buffer + tile_buffer / 2, y_ * tile_buffer - 2);\n}\n\nfunction drawImage(tile, x, y) {\n  ctx.strokeStyle = \"transparent\";\n  ctx.drawImage(tilesheet, tile % 10 * tile_buffer, Math.floor(tile / 10) * tile_buffer, tile_buffer, tile_buffer, x, y, tile_buffer, tile_buffer);\n}\n\nfunction drawOthers() {\n  for (const u in all_users) {\n    if (u != user) {\n      const ucx = all_users[u]['cx'];\n      const ucy = all_users[u]['cy'];\n      const x = ucx - cx;\n      const y = ucy - cy;\n\n      if (x >= -sx && x <= sx && y >= -sy && y <= sy) {\n        // Fill the character tile\n        drawPlayer(x + sx, y + sy, all_users[u]['direction'], all_users[u]['username']);\n      }\n    }\n  }\n}\n// CONCATENATED MODULE: ./js/game.js\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"user\", function() { return user; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"all_users\", function() { return all_users; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cx\", function() { return cx; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cy\", function() { return cy; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"dir\", function() { return dir; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sx\", function() { return sx; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sy\", function() { return sy; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"map\", function() { return map; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"tiles\", function() { return tiles; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"tile_buffer\", function() { return tile_buffer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"listener\", function() { return listener; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"clickListener\", function() { return clickListener; });\n// game.js\n// import '@babel/polyfill';\n\n/* Initializing */\n\nconst socket = io.connect('//' + document.domain + ':' + location.port);\nlet user = \"\";\nlet all_users = {}; // character start (0,0)\n\nlet cx = 0;\nlet cy = 0;\nlet dir = 0;\nlet sx = 0;\nlet sy = 0;\n/* MAP OPTIONS */\n\nlet map = [];\nlet tiles = {};\nlet tile_buffer = 0; // Tile Buffer: How large tiles are\n\nconst mid_width = canvas.width / 2;\nconst mid_height = canvas.height / 2;\n\nfunction determineClick(click_x, click_y) {\n  const mid_offset = 15;\n  const mid_low = mid_width - mid_offset;\n  const mid_high = mid_width - mid_offset;\n\n  if (polygon_click_test(4, [mid_low, mid_high, mid_high, mid_low], // x values\n  [mid_low, mid_low, mid_high, mid_high], // y values\n  click_x, click_y)) {\n    sendAction({\n      'keyCode': 32,\n      'preventDefault': function preventDefault() {}\n    }); // Spacebar\n  } else if (polygon_click_test(3, [0, mid_width, canvas.width], [0, mid_height, 0], click_x, click_y)) {\n    sendAction({\n      'keyCode': 38,\n      'preventDefault': function preventDefault() {}\n    }); // Up\n  } else if (polygon_click_test(3, [0, mid_width, canvas.width], [canvas.height, mid_height, canvas.height], click_x, click_y)) {\n    sendAction({\n      'keyCode': 40,\n      'preventDefault': function preventDefault() {}\n    }); // Down\n  } else if (polygon_click_test(3, [0, mid_width, 0], [0, mid_height, canvas.height], click_x, click_y)) {\n    sendAction({\n      'keyCode': 37,\n      'preventDefault': function preventDefault() {}\n    }); // Left\n  } else if (polygon_click_test(3, [canvas.width, mid_width, canvas.width], [0, mid_height, canvas.height], click_x, click_y)) {\n    sendAction({\n      'keyCode': 39,\n      'preventDefault': function preventDefault() {}\n    }); // Right\n  }\n} // polygon_click_test by Wm. Randolph Franklin\n// int list(int) list(int) int int -> bool\n// Consumes the number of vertices, along with each vertex coordinate,\n// as a list of x coordinates and a second list of y coordinates.\n// Tests against clicked coordinates to determine whether the\n// click was within the polygon formed by said vertices.\n\n\nfunction polygon_click_test(nvert, vertx, verty, testx, testy) {\n  let i,\n      j,\n      c = false;\n\n  for (i = 0, j = nvert - 1; i < nvert; j = i++) {\n    if (verty[i] > testy != verty[j] > testy && testx < (vertx[j] - vertx[i]) * (testy - verty[i]) / (verty[j] - verty[i]) + vertx[i]) {\n      c = !c;\n    }\n  }\n\n  return c;\n}\n\nfunction getClickCoords(e) {\n  e.preventDefault();\n  const click_x = e.offsetX;\n  const click_y = e.offsetY;\n  determineClick(click_x, click_y);\n}\n\nfunction getTouchCoords(e) {\n  e.preventDefault();\n  const click_x = e.touches[0].clientX - canvas.getBoundingClientRect().left;\n  const click_y = e.touches[0].clientY - canvas.getBoundingClientRect().top;\n  determineClick(click_x, click_y);\n}\n\nfunction listener() {\n  document.addEventListener('keydown', sendAction);\n}\nfunction clickListener() {\n  canvas.addEventListener('mousedown', getClickCoords);\n  canvas.addEventListener('touchstart', getTouchCoords);\n  canvas.addEventListener('touchend', function (e) {\n    e.preventDefault();\n  });\n}\n/* MOVEMENT */\n\nfunction sendAction(e) {\n  if (![32, 37, 38, 39, 40, 65, 68, 69, 83, 87].includes(e.keyCode)) return;\n  e.preventDefault();\n\n  if (e.keyCode == 32) {\n    // Spacebar\n    console.log(\"Eventually we will implement the spacebar for interacting\" + \" with items below your character.\");\n  } else if (e.keyCode == 69) {\n    console.log(\"Eventually we will implement the 'e' key for interacting\" + \" with nearby npcs and objects, if your player is facing them!\");\n  }\n\n  socket.emit('json', JSON.stringify({\n    'username': user,\n    'action': e.keyCode\n  }));\n}\n\nfunction doMove(movement) {\n  cx = movement['cx'];\n  cy = movement['cy'];\n  dir = movement['direction'];\n}\n\nlet last;\n\n(function () {\n  function main(timestamp) {\n    if (!last) {\n      last = timestamp;\n      draw();\n    } else {\n      if (timestamp - last > 100) {\n        draw();\n      }\n    }\n\n    requestAnimationFrame(main);\n  }\n\n  socket.on('connect', function () {\n    const form = document.getElementById(\"authentication\");\n    form.addEventListener('submit', function (e) {\n      e.preventDefault();\n      socket.emit('authentication', JSON.stringify({\n        'username': document.getElementById('username').value\n      }));\n    });\n  });\n  socket.on('authenticated', function (data) {\n    data = JSON.parse(data);\n    const msg = document.getElementById(\"message\");\n\n    if (data.success) {\n      msg.innerHTML = \"Authenticated successfully!\";\n      setTimeout(function () {\n        msg.innerHTML = \"Loading data...\";\n        loadMap(0);\n      }, 1000);\n    } else {\n      msg.innerHTML = \"Authentication failed. Please try again.\";\n    }\n  });\n\n  async function loadMap(attempts) {\n    const loaded = await checkDataAcquired();\n    const msg = document.getElementById(\"message\");\n\n    if (loaded) {\n      return setTimeout(function () {\n        document.getElementById('auth').className = \"hide\";\n        document.querySelector('main').className = \"show\";\n        msg.innerHTML = \"Welcome to the world.\";\n        main(); // Start the cycle\n\n        listener(); // Begin movement listeners\n\n        clickListener();\n      }, 1000);\n    }\n\n    attempts++;\n\n    if (attempts < 100) {\n      return setTimeout(function () {\n        loadMap(attempts);\n      }, 100);\n    }\n\n    msg.innerHTML = \"Failed to get data from the server.\";\n    return;\n  }\n\n  function checkDataAcquired() {\n    return new Promise(resolve => {\n      const got_user = user != \"\";\n      const got_map = map !== undefined || map.length > 0;\n      if (got_user && got_map) return resolve(true);\n      return resolve(false);\n    });\n  } // Recieves and populates initial data.\n\n\n  socket.on('init_data', function (data) {\n    data = JSON.parse(data);\n    user = data[0];\n    cx = data[1][0];\n    cy = data[1][1];\n    dir = data[1][2];\n    map = data[2]['map'];\n    tile_buffer = data[3][0];\n\n    if (canvas.width < 450) {\n      sx = 4;\n      sy = 4;\n    } else {\n      sx = data[3][1];\n      sy = data[3][2];\n    }\n  });\n  socket.on('tiles', function (data) {\n    tiles = JSON.parse(data);\n  }); // Recieves and populates map data.\n\n  socket.on('map_data', function (data) {\n    data = JSON.parse(data);\n  }); // Moves the local player\n\n  socket.on('movement_self', function (data) {\n    data = JSON.parse(data);\n    if (user == data['username']) doMove(data);\n  }); // Updates all players\n\n  socket.on('update_all', function (data) {\n    all_users = JSON.parse(data);\n  });\n  socket.on('failure', function (data) {\n    console.log('Unsynchronized.');\n  });\n})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9kcmF3LmpzP2IyM2YiLCJ3ZWJwYWNrOi8vLy4vanMvZ2FtZS5qcz9lNjU3Il0sIm5hbWVzIjpbImNhbnZhcyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInByZXZlbnREZWZhdWx0IiwiY3R4IiwiZ2V0Q29udGV4dCIsInRpbGVzaGVldCIsIkltYWdlIiwic3JjIiwiY2hhcnNoZWV0Iiwid2luZG93IiwiaW5uZXJXaWR0aCIsIndpZHRoIiwiaGVpZ2h0IiwiZHJhdyIsImNhbnZhc19oZWlnaHQiLCJjbGVhclJlY3QiLCJ4IiwidGlsZV9idWZmZXIiLCJjdXJyX3giLCJjeCIsInN4IiwieSIsInRpbGUiLCJtYXAiLCJjeSIsInN5IiwiQXJyYXkiLCJpc0FycmF5IiwiZGVmIiwiZHJhd1RpbGUiLCJkcmF3T3RoZXJzIiwiY29tcGxldGUiLCJkcmF3UGxheWVyIiwiZGlyIiwidXNlciIsImZpbGxTdHlsZSIsInN0cm9rZVN0eWxlIiwiZmlsbFJlY3QiLCJzdHJva2VUZXh0IiwiYmVnaW5QYXRoIiwiZHJhd0ltYWdlIiwibG9hZCIsImJpbmQiLCJtb3ZlVG8iLCJsaW5lVG8iLCJzdHJva2UiLCJjbG9zZVBhdGgiLCJ4XyIsInlfIiwiZGlyZWN0aW9uIiwidXNlcm5hbWUiLCJmb250IiwidGV4dEJhc2VsaW5lIiwidGV4dEFsaWduIiwiZmlsbFRleHQiLCJNYXRoIiwiZmxvb3IiLCJ1IiwiYWxsX3VzZXJzIiwidWN4IiwidWN5Iiwic29ja2V0IiwiaW8iLCJjb25uZWN0IiwiZG9tYWluIiwibG9jYXRpb24iLCJwb3J0IiwidGlsZXMiLCJtaWRfd2lkdGgiLCJtaWRfaGVpZ2h0IiwiZGV0ZXJtaW5lQ2xpY2siLCJjbGlja194IiwiY2xpY2tfeSIsIm1pZF9vZmZzZXQiLCJtaWRfbG93IiwibWlkX2hpZ2giLCJwb2x5Z29uX2NsaWNrX3Rlc3QiLCJzZW5kQWN0aW9uIiwibnZlcnQiLCJ2ZXJ0eCIsInZlcnR5IiwidGVzdHgiLCJ0ZXN0eSIsImkiLCJqIiwiYyIsImdldENsaWNrQ29vcmRzIiwib2Zmc2V0WCIsIm9mZnNldFkiLCJnZXRUb3VjaENvb3JkcyIsInRvdWNoZXMiLCJjbGllbnRYIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwibGVmdCIsImNsaWVudFkiLCJ0b3AiLCJsaXN0ZW5lciIsImNsaWNrTGlzdGVuZXIiLCJpbmNsdWRlcyIsImtleUNvZGUiLCJjb25zb2xlIiwibG9nIiwiZW1pdCIsIkpTT04iLCJzdHJpbmdpZnkiLCJkb01vdmUiLCJtb3ZlbWVudCIsImxhc3QiLCJtYWluIiwidGltZXN0YW1wIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwib24iLCJmb3JtIiwidmFsdWUiLCJkYXRhIiwicGFyc2UiLCJtc2ciLCJzdWNjZXNzIiwiaW5uZXJIVE1MIiwic2V0VGltZW91dCIsImxvYWRNYXAiLCJhdHRlbXB0cyIsImxvYWRlZCIsImNoZWNrRGF0YUFjcXVpcmVkIiwiY2xhc3NOYW1lIiwicXVlcnlTZWxlY3RvciIsIlByb21pc2UiLCJyZXNvbHZlIiwiZ290X3VzZXIiLCJnb3RfbWFwIiwidW5kZWZpbmVkIiwibGVuZ3RoIl0sIm1hcHBpbmdzIjoiOzs7QUFBQTtBQUVBO0FBRU8sTUFBTUEsTUFBTSxHQUFHQyxRQUFRLENBQUNDLGNBQVQsQ0FBd0IsUUFBeEIsQ0FBZjtBQUNQRixNQUFNLENBQUNHLGdCQUFQLENBQXdCLGFBQXhCLEVBQ0UsVUFBVUMsQ0FBVixFQUFhO0FBQUNBLEdBQUMsQ0FBQ0MsY0FBRjtBQUFvQixDQURwQyxFQUNzQyxLQUR0QztBQUdBLE1BQU1DLEdBQUcsR0FBR04sTUFBTSxDQUFDTyxVQUFQLENBQWtCLElBQWxCLENBQVosQyxDQUVBOztBQUNBLE1BQU1DLFNBQVMsR0FBRyxJQUFJQyxLQUFKLEVBQWxCO0FBQ0FELFNBQVMsQ0FBQ0UsR0FBVixHQUFnQixzQkFBaEI7QUFFQSxNQUFNQyxTQUFTLEdBQUcsSUFBSUYsS0FBSixFQUFsQjtBQUNB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Z0I7QUFDdEN4RCxhQUFTLEdBQUc2QyxJQUFJLENBQUNZLEtBQUwsQ0FBV0QsSUFBWCxDQUFaO0FBQ0QsR0FGRDtBQUlBckQsUUFBTSxDQUFDa0QsRUFBUCxDQUFVLFNBQVYsRUFBcUIsVUFBVUcsSUFBVixFQUFnQjtBQUNuQ2QsV0FBTyxDQUFDQyxHQUFSLENBQVksaUJBQVo7QUFDRCxHQUZEO0FBR0QsQ0FuSEQiLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGRyYXcuanNcclxuXHJcbmltcG9ydCB7YWxsX3VzZXJzLCBjeCwgY3ksIGRpciwgbWFwLCBzeCwgc3ksIHRpbGVfYnVmZmVyLCB1c2VyfSBmcm9tICcuL2dhbWUuanMnO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMnKTtcclxuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJjb250ZXh0bWVudVwiLFxyXG4gIGZ1bmN0aW9uIChlKSB7ZS5wcmV2ZW50RGVmYXVsdCgpO30sIGZhbHNlKTtcclxuXHJcbmNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG5cclxuLy8gUm93cyBvZiAxMCAzMHgzMCB0aWxlcy5cclxuY29uc3QgdGlsZXNoZWV0ID0gbmV3IEltYWdlKCk7XHJcbnRpbGVzaGVldC5zcmMgPSBcInN0YXRpYy90aWxlc2hlZXQucG5nXCI7XHJcblxyXG5jb25zdCBjaGFyc2hlZXQgPSBuZXcgSW1hZ2UoKTtcclxuY2hhcnNoZWV0LnNyYyA9IFwic3RhdGljL2NoYXJzaGVldC5wbmdcIjtcclxuXHJcbi8vIFNtYWxsIHdpbmRvd3MgbWVhbnMgc21hbGxlciBjYW52YXMuXHJcbmlmICh3aW5kb3cuaW5uZXJXaWR0aCA8IDUwMCkge1xyXG4gIGNhbnZhcy53aWR0aCA9IDI3MDtcclxuICBjYW52YXMuaGVpZ2h0ID0gMjkwO1xyXG59XHJcblxyXG4vKiBEUkFXSU5HICovXHJcbmV4cG9ydCBmdW5jdGlvbiBkcmF3KCkge1xyXG4gIGNvbnN0IGNhbnZhc19oZWlnaHQgPSBjYW52YXMuaGVpZ2h0IC0gMjA7XHJcbiAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhc19oZWlnaHQpO1xyXG4gIGZvciAobGV0IHggPSAwOyB4IDwgY2FudmFzLndpZHRoOyB4ICs9IHRpbGVfYnVmZmVyKSB7XHJcbiAgICBjb25zdCBjdXJyX3ggPSB4L3RpbGVfYnVmZmVyKyhjeC1zeCk7XHJcbiAgICBmb3IgKGxldCB5ID0gMDsgeSA8IGNhbnZhc19oZWlnaHQ7IHkgKz0gdGlsZV9idWZmZXIpIHtcclxuICAgICAgY29uc3QgdGlsZSA9IG1hcFt5L3RpbGVfYnVmZmVyKyhjeS1zeSldW2N1cnJfeF07XHJcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHRpbGUpKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBkZWYgaW4gdGlsZSkge1xyXG4gICAgICAgICAgZHJhd1RpbGUodGlsZVtkZWZdLCB4LCB5KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgZHJhd1RpbGUodGlsZSwgeCwgeSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGRyYXdPdGhlcnMoKTtcclxuXHJcbiAgLy8gRmlsbCB0aGUgbG9jYWwgY2hhcmFjdGVyIHRpbGVcclxuICBpZiAoY2hhcnNoZWV0LmNvbXBsZXRlKSB7XHJcbiAgICBkcmF3UGxheWVyKHN4LCBzeSwgZGlyLCB1c2VyKTtcclxuICB9XHJcbiAgZWxzZSB7XHJcbiAgICBjaGFyc2hlZXQuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGRyYXdQbGF5ZXIpO1xyXG4gIH1cclxuXHJcbiAgLy8gRmlsbCB0aGUgcG9zaXRpb25cclxuICBjdHguZmlsbFN0eWxlID0gXCJ3aGl0ZVwiO1xyXG4gIGN0eC5zdHJva2VTdHlsZSA9IFwiYmxhY2tcIjtcclxuICBjdHguZmlsbFJlY3QoMCwgY2FudmFzX2hlaWdodCwgY2FudmFzLndpZHRoLCAyMCk7XHJcbiAgY3R4LnN0cm9rZVRleHQoXHJcbiAgICBcIihcIiArIGN4ICsgXCIsIFwiICsgY3kgKyBcIilcIixcclxuICAgIGNhbnZhcy53aWR0aCAtIDQwLCBjYW52YXNfaGVpZ2h0ICsgMTBcclxuICApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBkcmF3VGlsZSh0aWxlLCB4LCB5KSB7XHJcbiAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gIGlmICh0aWxlc2hlZXQuY29tcGxldGUpIHtcclxuICAgIGRyYXdJbWFnZSh0aWxlLCB4LCB5KTtcclxuICB9XHJcbiAgZWxzZSB7XHJcbiAgICB0aWxlc2hlZXQubG9hZCA9IGRyYXdJbWFnZS5iaW5kKHRpbGUsIHgsIHkpO1xyXG4gIH1cclxuICBjdHgubW92ZVRvKHgsIHkpO1xyXG4gIGN0eC5saW5lVG8oeCArIHRpbGVfYnVmZmVyLCB5KTtcclxuICBjdHgubW92ZVRvKHgsIHkpO1xyXG4gIGN0eC5saW5lVG8oeCwgeSArIHRpbGVfYnVmZmVyKTtcclxuICBjdHguc3Ryb2tlKCk7XHJcbiAgY3R4LmNsb3NlUGF0aCgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBkcmF3UGxheWVyKHhfLCB5XywgZGlyZWN0aW9uLCB1c2VybmFtZSkge1xyXG4gIGN0eC5zdHJva2VTdHlsZSA9IFwidHJhbnNwYXJlbnRcIjtcclxuICBjdHguZHJhd0ltYWdlKGNoYXJzaGVldCwgZGlyZWN0aW9uICogdGlsZV9idWZmZXIsIDAsXHJcbiAgICB0aWxlX2J1ZmZlciwgdGlsZV9idWZmZXIsIHhfKnRpbGVfYnVmZmVyLCB5Xyp0aWxlX2J1ZmZlciwgdGlsZV9idWZmZXIsIHRpbGVfYnVmZmVyKVxyXG5cclxuICBjdHguZmlsbFN0eWxlID0gXCJibGFja1wiO1xyXG4gIGN0eC5mb250ID0gXCIxMHB0IEFyaWFsXCI7XHJcbiAgY3R4LnRleHRCYXNlbGluZSA9IFwibWlkZGxlXCI7XHJcbiAgY3R4LnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XHJcbiAgY3R4LmZpbGxUZXh0KHVzZXJuYW1lLCB4Xyp0aWxlX2J1ZmZlciArICh0aWxlX2J1ZmZlciAvIDIpLCB5Xyp0aWxlX2J1ZmZlciAtIDIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBkcmF3SW1hZ2UodGlsZSwgeCwgeSkge1xyXG4gIGN0eC5zdHJva2VTdHlsZSA9IFwidHJhbnNwYXJlbnRcIjtcclxuICBjdHguZHJhd0ltYWdlKHRpbGVzaGVldCwgKHRpbGUgJSAxMCkgKiB0aWxlX2J1ZmZlciwgTWF0aC5mbG9vcih0aWxlIC8gMTApICogdGlsZV9idWZmZXIsXHJcbiAgICB0aWxlX2J1ZmZlciwgdGlsZV9idWZmZXIsIHgsIHksIHRpbGVfYnVmZmVyLCB0aWxlX2J1ZmZlcik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRyYXdPdGhlcnMoKSB7XHJcbiAgZm9yIChjb25zdCB1IGluIGFsbF91c2Vycykge1xyXG4gICAgaWYgKHUgIT0gdXNlcikge1xyXG4gICAgICBjb25zdCB1Y3ggPSBhbGxfdXNlcnNbdV1bJ2N4J107XHJcbiAgICAgIGNvbnN0IHVjeSA9IGFsbF91c2Vyc1t1XVsnY3knXTtcclxuICAgICAgY29uc3QgeCA9IHVjeCAtIGN4O1xyXG4gICAgICBjb25zdCB5ID0gdWN5IC0gY3k7XHJcbiAgICAgIGlmICh4ID49IC1zeCAmJiB4IDw9IHN4ICYmIHkgPj0gLXN5ICYmIHkgPD0gc3kpIHtcclxuICAgICAgICAvLyBGaWxsIHRoZSBjaGFyYWN0ZXIgdGlsZVxyXG4gICAgICAgIGRyYXdQbGF5ZXIoeCtzeCwgeStzeSwgYWxsX3VzZXJzW3VdWydkaXJlY3Rpb24nXSwgYWxsX3VzZXJzW3VdWyd1c2VybmFtZSddKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIi8vIGdhbWUuanNcclxuXHJcbi8vIGltcG9ydCAnQGJhYmVsL3BvbHlmaWxsJztcclxuaW1wb3J0IHtjYW52YXMsIGRyYXd9IGZyb20gJy4vZHJhdyc7XHJcblxyXG4vKiBJbml0aWFsaXppbmcgKi9cclxuY29uc3Qgc29ja2V0ID0gaW8uY29ubmVjdCgnLy8nICsgZG9jdW1lbnQuZG9tYWluICsgJzonICsgbG9jYXRpb24ucG9ydCk7XHJcblxyXG5leHBvcnQgbGV0IHVzZXIgPSBcIlwiO1xyXG5leHBvcnQgbGV0IGFsbF91c2VycyA9IHt9O1xyXG5cclxuLy8gY2hhcmFjdGVyIHN0YXJ0ICgwLDApXHJcbmV4cG9ydCBsZXQgY3ggPSAwO1xyXG5leHBvcnQgbGV0IGN5ID0gMDtcclxuZXhwb3J0IGxldCBkaXIgPSAwO1xyXG5cclxuZXhwb3J0IGxldCBzeCA9IDA7XHJcbmV4cG9ydCBsZXQgc3kgPSAwO1xyXG5cclxuLyogTUFQIE9QVElPTlMgKi9cclxuZXhwb3J0IGxldCBtYXAgPSBbXTtcclxuZXhwb3J0IGxldCB0aWxlcyA9IHt9O1xyXG5leHBvcnQgbGV0IHRpbGVfYnVmZmVyID0gMDsgLy8gVGlsZSBCdWZmZXI6IEhvdyBsYXJnZSB0aWxlcyBhcmVcclxuXHJcbmNvbnN0IG1pZF93aWR0aCA9IGNhbnZhcy53aWR0aCAvIDI7XHJcbmNvbnN0IG1pZF9oZWlnaHQgPSBjYW52YXMuaGVpZ2h0IC8gMjtcclxuXHJcbmZ1bmN0aW9uIGRldGVybWluZUNsaWNrKGNsaWNrX3gsIGNsaWNrX3kpIHtcclxuICBjb25zdCBtaWRfb2Zmc2V0ID0gMTU7XHJcbiAgY29uc3QgbWlkX2xvdyA9IG1pZF93aWR0aCAtIG1pZF9vZmZzZXQ7XHJcbiAgY29uc3QgbWlkX2hpZ2ggPSBtaWRfd2lkdGggLSBtaWRfb2Zmc2V0O1xyXG4gIGlmIChwb2x5Z29uX2NsaWNrX3Rlc3QoNCxcclxuICAgIFttaWRfbG93LCBtaWRfaGlnaCwgbWlkX2hpZ2gsIG1pZF9sb3ddLCAvLyB4IHZhbHVlc1xyXG4gICAgW21pZF9sb3csIG1pZF9sb3csIG1pZF9oaWdoLCBtaWRfaGlnaF0sIC8vIHkgdmFsdWVzXHJcbiAgICBjbGlja194LCBjbGlja195KSkge1xyXG4gICAgc2VuZEFjdGlvbih7J2tleUNvZGUnOiAzMiwgJ3ByZXZlbnREZWZhdWx0JzogZnVuY3Rpb24oKXt9fSk7IC8vIFNwYWNlYmFyXHJcbiAgfVxyXG4gIGVsc2UgaWYgKHBvbHlnb25fY2xpY2tfdGVzdCgzLFxyXG4gICAgWzAsIG1pZF93aWR0aCwgY2FudmFzLndpZHRoXSwgWzAsIG1pZF9oZWlnaHQsIDBdLFxyXG4gICAgY2xpY2tfeCwgY2xpY2tfeSkpIHtcclxuICAgIHNlbmRBY3Rpb24oeydrZXlDb2RlJzogMzgsICdwcmV2ZW50RGVmYXVsdCc6IGZ1bmN0aW9uKCl7fX0pOyAvLyBVcFxyXG4gIH1cclxuICBlbHNlIGlmIChwb2x5Z29uX2NsaWNrX3Rlc3QoMyxcclxuICAgIFswLCBtaWRfd2lkdGgsIGNhbnZhcy53aWR0aF0sIFtjYW52YXMuaGVpZ2h0LCBtaWRfaGVpZ2h0LCBjYW52YXMuaGVpZ2h0XSxcclxuICAgIGNsaWNrX3gsIGNsaWNrX3kpKSB7XHJcbiAgICBzZW5kQWN0aW9uKHsna2V5Q29kZSc6IDQwLCAncHJldmVudERlZmF1bHQnOiBmdW5jdGlvbigpe319KTsgLy8gRG93blxyXG4gIH1cclxuICBlbHNlIGlmIChwb2x5Z29uX2NsaWNrX3Rlc3QoMyxcclxuICAgIFswLCBtaWRfd2lkdGgsIDBdLCBbMCwgbWlkX2hlaWdodCwgY2FudmFzLmhlaWdodF0sXHJcbiAgICBjbGlja194LCBjbGlja195KSkge1xyXG4gICAgc2VuZEFjdGlvbih7J2tleUNvZGUnOiAzNywgJ3ByZXZlbnREZWZhdWx0JzogZnVuY3Rpb24oKXt9fSk7IC8vIExlZnRcclxuICB9XHJcbiAgZWxzZSBpZiAocG9seWdvbl9jbGlja190ZXN0KDMsXHJcbiAgICBbY2FudmFzLndpZHRoLCBtaWRfd2lkdGgsIGNhbnZhcy53aWR0aF0sIFswLCBtaWRfaGVpZ2h0LCBjYW52YXMuaGVpZ2h0XSxcclxuICAgIGNsaWNrX3gsIGNsaWNrX3kpKSB7XHJcbiAgICBzZW5kQWN0aW9uKHsna2V5Q29kZSc6IDM5LCAncHJldmVudERlZmF1bHQnOiBmdW5jdGlvbigpe319KTsgLy8gUmlnaHRcclxuICB9XHJcbn1cclxuXHJcbi8vIHBvbHlnb25fY2xpY2tfdGVzdCBieSBXbS4gUmFuZG9scGggRnJhbmtsaW5cclxuLy8gaW50IGxpc3QoaW50KSBsaXN0KGludCkgaW50IGludCAtPiBib29sXHJcbi8vIENvbnN1bWVzIHRoZSBudW1iZXIgb2YgdmVydGljZXMsIGFsb25nIHdpdGggZWFjaCB2ZXJ0ZXggY29vcmRpbmF0ZSxcclxuLy8gYXMgYSBsaXN0IG9mIHggY29vcmRpbmF0ZXMgYW5kIGEgc2Vjb25kIGxpc3Qgb2YgeSBjb29yZGluYXRlcy5cclxuLy8gVGVzdHMgYWdhaW5zdCBjbGlja2VkIGNvb3JkaW5hdGVzIHRvIGRldGVybWluZSB3aGV0aGVyIHRoZVxyXG4vLyBjbGljayB3YXMgd2l0aGluIHRoZSBwb2x5Z29uIGZvcm1lZCBieSBzYWlkIHZlcnRpY2VzLlxyXG5mdW5jdGlvbiBwb2x5Z29uX2NsaWNrX3Rlc3QoIG52ZXJ0LCB2ZXJ0eCwgdmVydHksIHRlc3R4LCB0ZXN0eSApIHtcclxuICAgIGxldCBpLCBqLCBjID0gZmFsc2U7XHJcbiAgICBmb3IoIGkgPSAwLCBqID0gbnZlcnQtMTsgaSA8IG52ZXJ0OyBqID0gaSsrICkge1xyXG4gICAgICAgIGlmKCAoICggdmVydHlbaV0gPiB0ZXN0eSApICE9ICggdmVydHlbal0gPiB0ZXN0eSApICkgJiZcclxuICAgICAgICAgICAgKCB0ZXN0eCA8ICggdmVydHhbal0gLSB2ZXJ0eFtpXSApICogKCB0ZXN0eSAtIHZlcnR5W2ldICkgLyAoIHZlcnR5W2pdIC0gdmVydHlbaV0gKSArIHZlcnR4W2ldICkgKSB7XHJcbiAgICAgICAgICAgICAgICBjID0gIWM7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldENsaWNrQ29vcmRzKGUpIHtcclxuICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgY29uc3QgY2xpY2tfeCA9IGUub2Zmc2V0WDtcclxuICBjb25zdCBjbGlja195ID0gZS5vZmZzZXRZO1xyXG4gIGRldGVybWluZUNsaWNrKGNsaWNrX3gsIGNsaWNrX3kpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRUb3VjaENvb3JkcyhlKSB7XHJcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIGNvbnN0IGNsaWNrX3ggPSBlLnRvdWNoZXNbMF0uY2xpZW50WCAtIGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xyXG4gIGNvbnN0IGNsaWNrX3kgPSBlLnRvdWNoZXNbMF0uY2xpZW50WSAtIGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XHJcbiAgZGV0ZXJtaW5lQ2xpY2soY2xpY2tfeCwgY2xpY2tfeSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBsaXN0ZW5lcigpIHtcclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgc2VuZEFjdGlvbik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjbGlja0xpc3RlbmVyKCkge1xyXG4gIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBnZXRDbGlja0Nvb3Jkcyk7XHJcbiAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBnZXRUb3VjaENvb3Jkcyk7XHJcbiAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpfSk7XHJcbn1cclxuXHJcbi8qIE1PVkVNRU5UICovXHJcbmZ1bmN0aW9uIHNlbmRBY3Rpb24oZSkge1xyXG4gIGlmICghW1xyXG4gICAgMzIsIDM3LCAzOCwgMzksIDQwLCA2NSwgNjgsIDY5LCA4MywgODdcclxuICBdLmluY2x1ZGVzKGUua2V5Q29kZSkpIHJldHVybjtcclxuICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gIGlmIChlLmtleUNvZGUgPT0gMzIpIHsgLy8gU3BhY2ViYXJcclxuICAgIGNvbnNvbGUubG9nKFwiRXZlbnR1YWxseSB3ZSB3aWxsIGltcGxlbWVudCB0aGUgc3BhY2ViYXIgZm9yIGludGVyYWN0aW5nXCJcclxuICAgICAgKyBcIiB3aXRoIGl0ZW1zIGJlbG93IHlvdXIgY2hhcmFjdGVyLlwiKTtcclxuICB9XHJcblxyXG4gIGVsc2UgaWYgKGUua2V5Q29kZSA9PSA2OSkge1xyXG4gICAgY29uc29sZS5sb2coXCJFdmVudHVhbGx5IHdlIHdpbGwgaW1wbGVtZW50IHRoZSAnZScga2V5IGZvciBpbnRlcmFjdGluZ1wiXHJcbiAgICAgICsgXCIgd2l0aCBuZWFyYnkgbnBjcyBhbmQgb2JqZWN0cywgaWYgeW91ciBwbGF5ZXIgaXMgZmFjaW5nIHRoZW0hXCIpO1xyXG4gIH1cclxuXHJcbiAgc29ja2V0LmVtaXQoJ2pzb24nLCBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAndXNlcm5hbWUnOiB1c2VyLFxyXG4gICAgJ2FjdGlvbic6IGUua2V5Q29kZSxcclxuICB9KSlcclxufVxyXG5cclxuZnVuY3Rpb24gZG9Nb3ZlKG1vdmVtZW50KSB7XHJcbiAgY3ggPSBtb3ZlbWVudFsnY3gnXTtcclxuICBjeSA9IG1vdmVtZW50WydjeSddO1xyXG4gIGRpciA9IG1vdmVtZW50WydkaXJlY3Rpb24nXTtcclxufVxyXG5cclxubGV0IGxhc3Q7XHJcbihmdW5jdGlvbiAoKSB7XHJcbiAgZnVuY3Rpb24gbWFpbiggdGltZXN0YW1wICkge1xyXG4gICAgaWYgKCFsYXN0KSB7XHJcbiAgICAgIGxhc3QgPSB0aW1lc3RhbXBcclxuICAgICAgZHJhdygpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGlmICh0aW1lc3RhbXAgLSBsYXN0ID4gMTAwKSB7XHJcbiAgICAgICAgZHJhdygpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoIG1haW4gKTtcclxuICB9XHJcblxyXG4gIHNvY2tldC5vbignY29ubmVjdCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYXV0aGVudGljYXRpb25cIik7XHJcbiAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBzb2NrZXQuZW1pdCgnYXV0aGVudGljYXRpb24nLCBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgJ3VzZXJuYW1lJzogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJuYW1lJykudmFsdWVcclxuICAgICAgfSkpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIHNvY2tldC5vbignYXV0aGVudGljYXRlZCcsIGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xyXG4gICAgY29uc3QgbXNnID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtZXNzYWdlXCIpO1xyXG4gICAgaWYgKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICBtc2cuaW5uZXJIVE1MID0gXCJBdXRoZW50aWNhdGVkIHN1Y2Nlc3NmdWxseSFcIjtcclxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICBtc2cuaW5uZXJIVE1MID0gXCJMb2FkaW5nIGRhdGEuLi5cIjtcclxuICAgICAgICBsb2FkTWFwKDApO1xyXG4gICAgICB9LCAxMDAwKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBtc2cuaW5uZXJIVE1MID0gXCJBdXRoZW50aWNhdGlvbiBmYWlsZWQuIFBsZWFzZSB0cnkgYWdhaW4uXCI7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIGxvYWRNYXAoYXR0ZW1wdHMpIHtcclxuICAgIGNvbnN0IGxvYWRlZCA9IGF3YWl0IGNoZWNrRGF0YUFjcXVpcmVkKCk7XHJcbiAgICBjb25zdCBtc2cgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1lc3NhZ2VcIik7XHJcbiAgICBpZiAobG9hZGVkKSB7XHJcbiAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhdXRoJykuY2xhc3NOYW1lID0gXCJoaWRlXCI7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWFpbicpLmNsYXNzTmFtZSA9IFwic2hvd1wiO1xyXG4gICAgICAgIG1zZy5pbm5lckhUTUwgPSBcIldlbGNvbWUgdG8gdGhlIHdvcmxkLlwiO1xyXG4gICAgICAgIG1haW4oKTsgLy8gU3RhcnQgdGhlIGN5Y2xlXHJcbiAgICAgICAgbGlzdGVuZXIoKTsgLy8gQmVnaW4gbW92ZW1lbnQgbGlzdGVuZXJzXHJcbiAgICAgICAgY2xpY2tMaXN0ZW5lcigpO1xyXG4gICAgICB9LCAxMDAwKTtcclxuICAgIH1cclxuICAgIGF0dGVtcHRzKys7XHJcbiAgICBpZiAoYXR0ZW1wdHMgPCAxMDApIHtcclxuICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICBsb2FkTWFwKGF0dGVtcHRzKTtcclxuICAgICAgfSwgMTAwKTtcclxuICAgIH1cclxuXHJcbiAgICBtc2cuaW5uZXJIVE1MID0gXCJGYWlsZWQgdG8gZ2V0IGRhdGEgZnJvbSB0aGUgc2VydmVyLlwiO1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY2hlY2tEYXRhQWNxdWlyZWQoKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgY29uc3QgZ290X3VzZXIgPSB1c2VyICE9IFwiXCI7XHJcbiAgICAgIGNvbnN0IGdvdF9tYXAgPSBtYXAgIT09IHVuZGVmaW5lZCB8fCBtYXAubGVuZ3RoID4gMDtcclxuICAgICAgaWYgKGdvdF91c2VyICYmIGdvdF9tYXApIHJldHVybiByZXNvbHZlKHRydWUpO1xyXG4gICAgICByZXR1cm4gcmVzb2x2ZShmYWxzZSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIFJlY2lldmVzIGFuZCBwb3B1bGF0ZXMgaW5pdGlhbCBkYXRhLlxyXG4gIHNvY2tldC5vbignaW5pdF9kYXRhJywgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xyXG4gICAgdXNlciA9IGRhdGFbMF07XHJcbiAgICBjeCA9IGRhdGFbMV1bMF07XHJcbiAgICBjeSA9IGRhdGFbMV1bMV07XHJcbiAgICBkaXIgPSBkYXRhWzFdWzJdO1xyXG4gICAgbWFwICA9IGRhdGFbMl1bJ21hcCddO1xyXG4gICAgdGlsZV9idWZmZXIgPSBkYXRhWzNdWzBdO1xyXG4gICAgaWYgKGNhbnZhcy53aWR0aCA8IDQ1MCkge1xyXG4gICAgICBzeCA9IDQ7XHJcbiAgICAgIHN5ID0gNDtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBzeCA9IGRhdGFbM11bMV07XHJcbiAgICAgIHN5ID0gZGF0YVszXVsyXTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgc29ja2V0Lm9uKCd0aWxlcycsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICB0aWxlcyA9IEpTT04ucGFyc2UoZGF0YSk7XHJcbiAgfSk7XHJcblxyXG4gIC8vIFJlY2lldmVzIGFuZCBwb3B1bGF0ZXMgbWFwIGRhdGEuXHJcbiAgc29ja2V0Lm9uKCdtYXBfZGF0YScsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICBkYXRhID0gSlNPTi5wYXJzZShkYXRhKTtcclxuICB9KTtcclxuXHJcbiAgLy8gTW92ZXMgdGhlIGxvY2FsIHBsYXllclxyXG4gIHNvY2tldC5vbignbW92ZW1lbnRfc2VsZicsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICBkYXRhID0gSlNPTi5wYXJzZShkYXRhKTtcclxuICAgIGlmICh1c2VyID09IGRhdGFbJ3VzZXJuYW1lJ10pXHJcbiAgICAgIGRvTW92ZShkYXRhKTtcclxuICB9KTtcclxuXHJcbiAgLy8gVXBkYXRlcyBhbGwgcGxheWVyc1xyXG4gIHNvY2tldC5vbigndXBkYXRlX2FsbCcsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICBhbGxfdXNlcnMgPSBKU09OLnBhcnNlKGRhdGEpO1xyXG4gIH0pO1xyXG5cclxuICBzb2NrZXQub24oJ2ZhaWx1cmUnLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgY29uc29sZS5sb2coJ1Vuc3luY2hyb25pemVkLicpO1xyXG4gIH0pO1xyXG59KSgpO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n")}]);