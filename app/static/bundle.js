!function(Q){var F={};function B(U){if(F[U])return F[U].exports;var s=F[U]={i:U,l:!1,exports:{}};return Q[U].call(s.exports,s,s.exports,B),s.l=!0,s.exports}B.m=Q,B.c=F,B.d=function(Q,F,U){B.o(Q,F)||Object.defineProperty(Q,F,{enumerable:!0,get:U})},B.r=function(Q){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},B.t=function(Q,F){if(1&F&&(Q=B(Q)),8&F)return Q;if(4&F&&"object"==typeof Q&&Q&&Q.__esModule)return Q;var U=Object.create(null);if(B.r(U),Object.defineProperty(U,"default",{enumerable:!0,value:Q}),2&F&&"string"!=typeof Q)for(var s in Q)B.d(U,s,function(F){return Q[F]}.bind(null,s));return U},B.n=function(Q){var F=Q&&Q.__esModule?function(){return Q.default}:function(){return Q};return B.d(F,"a",F),F},B.o=function(Q,F){return Object.prototype.hasOwnProperty.call(Q,F)},B.p="",B(B.s=0)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./js/draw.js\n// draw.js\n\nconst canvas = document.getElementById('canvas');\ncanvas.addEventListener(\"contextmenu\", function (e) {\n  e.preventDefault();\n}, false);\nconst ctx = canvas.getContext('2d'); // Rows of 10 30x30 tiles.\n\nconst tilesheet = new Image();\ntilesheet.src = \"static/tilesheet.png\";\nconst charsheet = new Image();\ncharsheet.src = \"static/charsheet.png\"; // Small windows means smaller canvas.\n\nif (window.innerWidth < 500) {\n  canvas.width = 270;\n  canvas.height = 290;\n}\n/* DRAWING */\n\n\nctx.font = \"11pt Verdana\";\nctx.textAlign = \"end\";\nconst w = canvas.clientWidth;\nconst h = canvas.clientHeight - 20;\nfunction draw() {\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n  for (let x = 0; x < w; x += tile_buffer) {\n    const curr_x = x / tile_buffer + (cx - sx);\n\n    for (let y = 0; y < h; y += tile_buffer) {\n      const tile = map[y / tile_buffer + (cy - sy)][curr_x];\n\n      if (Array.isArray(tile)) {\n        for (const def in tile) {\n          drawTile(tile[def], x, y);\n        }\n      } else {\n        drawTile(tile, x, y);\n      }\n    }\n  }\n\n  drawOthers(); // Fill the local character tile\n\n  if (charsheet.complete) {\n    drawPlayer(sx, sy, dir);\n  } else {\n    charsheet.addEventListener('load', drawPlayer);\n  } // Fill the position\n\n\n  ctx.fillStyle = \"white\";\n  ctx.fillRect(0, canvas.height - 20, canvas.width, 20);\n  ctx.strokeText(\"(\" + cx + \", \" + cy + \")\", 14 * tile_buffer + 30, 15 * tile_buffer + 15);\n}\n\nfunction drawTile(tile, x, y) {\n  ctx.beginPath();\n\n  if (tilesheet.complete) {\n    drawImage(tile, x, y);\n  } else {\n    tilesheet.load = drawImage.bind(tile, x, y);\n  }\n\n  ctx.moveTo(x, y);\n  ctx.lineTo(x + tile_buffer, y);\n  ctx.moveTo(x, y);\n  ctx.lineTo(x, y + tile_buffer);\n  ctx.stroke();\n  ctx.closePath();\n}\n\nfunction drawPlayer(x_, y_, direction) {\n  ctx.strokeStyle = \"transparent\";\n  ctx.drawImage(charsheet, direction * tile_buffer, 0, tile_buffer, tile_buffer, x_ * tile_buffer, y_ * tile_buffer, tile_buffer, tile_buffer);\n}\n\nfunction drawImage(tile, x, y) {\n  ctx.strokeStyle = \"transparent\";\n  ctx.drawImage(tilesheet, tile % 10 * tile_buffer, Math.floor(tile / 10) * tile_buffer, tile_buffer, tile_buffer, x, y, tile_buffer, tile_buffer);\n}\n\nfunction drawOthers() {\n  for (const u in all_users) {\n    if (u != user) {\n      const ucx = all_users[u]['cx'];\n      const ucy = all_users[u]['cy'];\n      const x = ucx - cx;\n      const y = ucy - cy;\n\n      if (x >= -sx && x <= sx && y >= -sy && y <= sy) {\n        // Fill the character tile\n        drawPlayer(x + sx, y + sy, all_users[u]['direction']);\n      }\n    }\n  }\n}\n// CONCATENATED MODULE: ./js/game.js\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"user\", function() { return user; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"all_users\", function() { return all_users; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cx\", function() { return cx; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cy\", function() { return cy; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"dir\", function() { return dir; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sx\", function() { return sx; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sy\", function() { return sy; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"map\", function() { return map; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"tiles\", function() { return tiles; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"tile_buffer\", function() { return tile_buffer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"listener\", function() { return listener; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"clickListener\", function() { return clickListener; });\n// game.js\n// import '@babel/polyfill';\n\n/* Initializing */\n\nconst socket = io.connect('//' + document.domain + ':' + location.port);\nlet user = 0;\nlet all_users = {}; // character start (0,0)\n\nlet cx = 0;\nlet cy = 0;\nlet dir = 0;\nlet sx = 0;\nlet sy = 0;\n/* MAP OPTIONS */\n\nlet map = [];\nlet tiles = {};\nlet tile_buffer = 0; // Tile Buffer: How large tiles are\n\nconst mid_width = canvas.width / 2;\nconst mid_height = canvas.height / 2;\n\nfunction determineClick(click_x, click_y) {\n  const mid_offset = 15;\n  const mid_low = mid_width - mid_offset;\n  const mid_high = mid_width - mid_offset;\n\n  if (polygon_click_test(4, [mid_low, mid_high, mid_high, mid_low], // x values\n  [mid_low, mid_low, mid_high, mid_high], // y values\n  click_x, click_y)) {\n    sendAction({\n      'keyCode': 32,\n      'preventDefault': function preventDefault() {}\n    }); // Spacebar\n  } else if (polygon_click_test(3, [0, mid_width, canvas.width], [0, mid_height, 0], click_x, click_y)) {\n    sendAction({\n      'keyCode': 38,\n      'preventDefault': function preventDefault() {}\n    }); // Up\n  } else if (polygon_click_test(3, [0, mid_width, canvas.width], [canvas.height, mid_height, canvas.height], click_x, click_y)) {\n    sendAction({\n      'keyCode': 40,\n      'preventDefault': function preventDefault() {}\n    }); // Down\n  } else if (polygon_click_test(3, [0, mid_width, 0], [0, mid_height, canvas.height], click_x, click_y)) {\n    sendAction({\n      'keyCode': 37,\n      'preventDefault': function preventDefault() {}\n    }); // Left\n  } else if (polygon_click_test(3, [canvas.width, mid_width, canvas.width], [0, mid_height, canvas.height], click_x, click_y)) {\n    sendAction({\n      'keyCode': 39,\n      'preventDefault': function preventDefault() {}\n    }); // Right\n  }\n} // polygon_click_test by Wm. Randolph Franklin\n// int list(int) list(int) int int -> bool\n// Consumes the number of vertices, along with each vertex coordinate,\n// as a list of x coordinates and a second list of y coordinates.\n// Tests against clicked coordinates to determine whether the\n// click was within the polygon formed by said vertices.\n\n\nfunction polygon_click_test(nvert, vertx, verty, testx, testy) {\n  let i,\n      j,\n      c = false;\n\n  for (i = 0, j = nvert - 1; i < nvert; j = i++) {\n    if (verty[i] > testy != verty[j] > testy && testx < (vertx[j] - vertx[i]) * (testy - verty[i]) / (verty[j] - verty[i]) + vertx[i]) {\n      c = !c;\n    }\n  }\n\n  return c;\n}\n\nfunction getClickCoords(e) {\n  e.preventDefault();\n  const click_x = e.offsetX;\n  const click_y = e.offsetY;\n  determineClick(click_x, click_y);\n}\n\nfunction getTouchCoords(e) {\n  e.preventDefault();\n  const click_x = e.touches[0].clientX - canvas.getBoundingClientRect().left;\n  const click_y = e.touches[0].clientY - canvas.getBoundingClientRect().top;\n  determineClick(click_x, click_y);\n}\n\nfunction listener() {\n  document.addEventListener('keydown', sendAction);\n}\nfunction clickListener() {\n  canvas.addEventListener('mousedown', getClickCoords);\n  canvas.addEventListener('touchstart', getTouchCoords);\n  canvas.addEventListener('touchend', function (e) {\n    e.preventDefault();\n  });\n}\n/* MOVEMENT */\n\nfunction sendAction(e) {\n  if (![32, 37, 38, 39, 40, 65, 68, 69, 83, 87].includes(e.keyCode)) return;\n  e.preventDefault();\n\n  if (e.keyCode == 32) {\n    // Spacebar\n    console.log(\"Eventually we will implement the spacebar for interacting\" + \" with items below your character.\");\n  } else if (e.keyCode == 69) {\n    console.log(\"Eventually we will implement the 'e' key for interacting\" + \" with nearby npcs and objects, if your player is facing them!\");\n  }\n\n  socket.emit('json', JSON.stringify({\n    'user': user,\n    'action': e.keyCode\n  }));\n}\n\nfunction doMove(movement) {\n  cx = movement['cx'];\n  cy = movement['cy'];\n  dir = movement['direction'];\n}\n\nlet last;\n\n(function () {\n  function main(timestamp) {\n    if (!last) {\n      last = timestamp;\n      draw();\n    } else {\n      if (timestamp - last > 100) {\n        draw();\n      }\n    }\n\n    requestAnimationFrame(main);\n  }\n\n  socket.on('connect', function () {\n    listener(); // Begin movement listeners\n\n    clickListener();\n  }); // Recieves and populates initial data.\n\n  socket.on('init_data', function (data) {\n    data = JSON.parse(data);\n    user = data[0];\n    cx = data[1][0];\n    cy = data[1][1];\n    dir = data[1][2];\n    map = data[2]['map'];\n    tile_buffer = data[3][0];\n\n    if (canvas.width < 450) {\n      sx = 4;\n      sy = 4;\n    } else {\n      sx = data[3][1];\n      sy = data[3][2];\n    }\n\n    main(); // Start the cycle\n  });\n  socket.on('tiles', function (data) {\n    tiles = JSON.parse(data);\n  }); // Recieves and populates map data.\n\n  socket.on('map_data', function (data) {\n    data = JSON.parse(data);\n  }); // Moves the local player\n\n  socket.on('movement_self', function (data) {\n    data = JSON.parse(data);\n    if (user == data['user']) doMove(data);\n  }); // Updates all players\n\n  socket.on('update_all', function (data) {\n    all_users = JSON.parse(data);\n  });\n  socket.on('failure', function (data) {\n    console.log('Unsynchronized.');\n  });\n})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9kcmF3LmpzP2IyM2YiLCJ3ZWJwYWNrOi8vLy4vanMvZ2FtZS5qcz9lNjU3Il0sIm5hbWVzIjpbImNhbnZhcyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInByZXZlbnREZWZhdWx0IiwiY3R4IiwiZ2V0Q29udGV4dCIsInRpbGVzaGVldCIsIkltYWdlIiwic3JjIiwiY2hhcnNoZWV0Iiwid2luZG93IiwiaW5uZXJXaWR0aCIsIndpZHRoIiwiaGVpZ2h0IiwiZm9udCIsInRleHRBbGlnbiIsInciLCJjbGllbnRXaWR0aCIsImgiLCJjbGllbnRIZWlnaHQiLCJkcmF3IiwiY2xlYXJSZWN0IiwieCIsInRpbGVfYnVmZmVyIiwiY3Vycl94IiwiY3giLCJzeCIsInkiLCJ0aWxlIiwibWFwIiwiY3kiLCJzeSIsIkFycmF5IiwiaXNBcnJheSIsImRlZiIsImRyYXdUaWxlIiwiZHJhd090aGVycyIsImNvbXBsZXRlIiwiZHJhd1BsYXllciIsImRpciIsImZpbGxTdHlsZSIsImZpbGxSZWN0Iiwic3Ryb2tlVGV4dCIsImJlZ2luUGF0aCIsImRyYXdJbWFnZSIsImxvYWQiLCJiaW5kIiwibW92ZVRvIiwibGluZVRvIiwic3Ryb2tlIiwiY2xvc2VQYXRoIiwieF8iLCJ5XyIsImRpcmVjdGlvbiIsInN0cm9rZVN0eWxlIiwiTWF0aCIsImZsb29yIiwidSIsImFsbF91c2VycyIsInVzZXIiLCJ1Y3giLCJ1Y3kiLCJzb2NrZXQiLCJpbyIsImNvbm5lY3QiLCJkb21haW4iLCJsb2NhdGlvbiIsInBvcnQiLCJ0aWxlcyIsIm1pZF93aWR0aCIsIm1pZF9oZWlnaHQiLCJkZXRlcm1pbmVDbGljayIsImNsaWNrX3giLCJjbGlja195IiwibWlkX29mZnNldCIsIm1pZF9sb3ciLCJtaWRfaGlnaCIsInBvbHlnb25fY2xpY2tfdGVzdCIsInNlbmRBY3Rpb24iLCJudmVydCIsInZlcnR4IiwidmVydHkiLCJ0ZXN0eCIsInRlc3R5IiwiaSIsImoiLCJjIiwiZ2V0Q2xpY2tDb29yZHMiLCJvZmZzZXRYIiwib2Zmc2V0WSIsImdldFRvdWNoQ29vcmRzIiwidG91Y2hlcyIsImNsaWVudFgiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJsZWZ0IiwiY2xpZW50WSIsInRvcCIsImxpc3RlbmVyIiwiY2xpY2tMaXN0ZW5lciIsImluY2x1ZGVzIiwia2V5Q29kZSIsImNvbnNvbGUiLCJsb2ciLCJlbWl0IiwiSlNPTiIsInN0cmluZ2lmeSIsImRvTW92ZSIsIm1vdmVtZW50IiwibGFzdCIsIm1haW4iLCJ0aW1lc3RhbXAiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJvbiIsImRhdGEiLCJwYXJzZSJdLCJtYXBwaW5ncyI6Ijs7O0FBQUE7QUFFQTtBQUVPLE1BQU1BLE1BQU0sR0FBR0MsUUFBUSxDQUFDQyxjQUFULENBQXdCLFFBQXhCLENBQWY7QUFDUEYsTUFBTSxDQUFDRyxnQkFBUCxDQUF3QixhQUF4QixFQUNFLFVBQVVDLENBQVYsRUFBYTtBQUFDQSxHQUFDLENBQUNDLGNBQUY7QUFBb0IsQ0FEcEMsRUFDc0MsS0FEdEM7QUFHQSxNQUFNQyxHQUFHLEdBQUdOLE1BQU0sQ0FBQ08sVUFBUCxDQUFrQixJQUFsQixDQUFaLEMsQ0FFQTs7QUFDQSxNQUFNQyxTQUFTLEdBQUcsSUFBSUMsS0FBSixFQUFsQjtBQUNBRCxTQUFTLENBQUNFLEdBQVYsR0FBZ0Isc0JBQWhCO0FBRUEsTUFBTUMsU0FBUyxHQUFHLElBQUlGLEtBQUosRUFBbEI7QUFDQUUsU0FBUyxDQUFDRCxHQUFWLEdBQWdCLHNCQUFoQixDLENBRUE7O0FBQ0EsSUFBSUUsTUFBTSxDQUFDQyxVQUFQLEdBQW9CLEdBQXhCLEVBQTZCO0FBQzNCYixRQUFNLENBQUNjLEtBQVAsR0FBZSxHQUFmO0FBQ0FkLFFBQU0sQ0FBQ2UsTUFBUCxHQUFnQixHQUFoQjtBQUNEO0FBRUQ7OztBQUNBVCxHQUFHLENBQUNVLElBQUosR0FBVyxjQUFYO0FBQ0FWLEdBQUcsQ0FBQ1cs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ZSI6IjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBkcmF3LmpzXHJcblxyXG5pbXBvcnQge2FsbF91c2VycywgY3gsIGN5LCBkaXIsIG1hcCwgc3gsIHN5LCB0aWxlX2J1ZmZlciwgdXNlcn0gZnJvbSAnLi9nYW1lLmpzJztcclxuXHJcbmV4cG9ydCBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FudmFzJyk7XHJcbmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwiY29udGV4dG1lbnVcIixcclxuICBmdW5jdGlvbiAoZSkge2UucHJldmVudERlZmF1bHQoKTt9LCBmYWxzZSk7XHJcblxyXG5jb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuXHJcbi8vIFJvd3Mgb2YgMTAgMzB4MzAgdGlsZXMuXHJcbmNvbnN0IHRpbGVzaGVldCA9IG5ldyBJbWFnZSgpO1xyXG50aWxlc2hlZXQuc3JjID0gXCJzdGF0aWMvdGlsZXNoZWV0LnBuZ1wiO1xyXG5cclxuY29uc3QgY2hhcnNoZWV0ID0gbmV3IEltYWdlKCk7XHJcbmNoYXJzaGVldC5zcmMgPSBcInN0YXRpYy9jaGFyc2hlZXQucG5nXCI7XHJcblxyXG4vLyBTbWFsbCB3aW5kb3dzIG1lYW5zIHNtYWxsZXIgY2FudmFzLlxyXG5pZiAod2luZG93LmlubmVyV2lkdGggPCA1MDApIHtcclxuICBjYW52YXMud2lkdGggPSAyNzA7XHJcbiAgY2FudmFzLmhlaWdodCA9IDI5MDtcclxufVxyXG5cclxuLyogRFJBV0lORyAqL1xyXG5jdHguZm9udCA9IFwiMTFwdCBWZXJkYW5hXCI7XHJcbmN0eC50ZXh0QWxpZ24gPSBcImVuZFwiO1xyXG5jb25zdCB3ID0gY2FudmFzLmNsaWVudFdpZHRoO1xyXG5jb25zdCBoID0gY2FudmFzLmNsaWVudEhlaWdodCAtIDIwO1xyXG5leHBvcnQgZnVuY3Rpb24gZHJhdygpIHtcclxuICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XHJcbiAgZm9yIChsZXQgeCA9IDA7IHggPCB3OyB4ICs9IHRpbGVfYnVmZmVyKSB7XHJcbiAgICBjb25zdCBjdXJyX3ggPSB4L3RpbGVfYnVmZmVyKyhjeC1zeCk7XHJcbiAgICBmb3IgKGxldCB5ID0gMDsgeSA8IGg7IHkgKz0gdGlsZV9idWZmZXIpIHtcclxuICAgICAgY29uc3QgdGlsZSA9IG1hcFt5L3RpbGVfYnVmZmVyKyhjeS1zeSldW2N1cnJfeF07XHJcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHRpbGUpKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBkZWYgaW4gdGlsZSkge1xyXG4gICAgICAgICAgZHJhd1RpbGUodGlsZVtkZWZdLCB4LCB5KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgZHJhd1RpbGUodGlsZSwgeCwgeSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGRyYXdPdGhlcnMoKTtcclxuXHJcbiAgLy8gRmlsbCB0aGUgbG9jYWwgY2hhcmFjdGVyIHRpbGVcclxuICBpZiAoY2hhcnNoZWV0LmNvbXBsZXRlKSB7XHJcbiAgICBkcmF3UGxheWVyKHN4LCBzeSwgZGlyKTtcclxuICB9XHJcbiAgZWxzZSB7XHJcbiAgICBjaGFyc2hlZXQuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGRyYXdQbGF5ZXIpO1xyXG4gIH1cclxuXHJcbiAgLy8gRmlsbCB0aGUgcG9zaXRpb25cclxuICBjdHguZmlsbFN0eWxlID0gXCJ3aGl0ZVwiO1xyXG4gIGN0eC5maWxsUmVjdCgwLCBjYW52YXMuaGVpZ2h0IC0gMjAsIGNhbnZhcy53aWR0aCwgMjApO1xyXG4gIGN0eC5zdHJva2VUZXh0KFxyXG4gICAgXCIoXCIgKyBjeCArIFwiLCBcIiArIGN5ICsgXCIpXCIsXHJcbiAgICAxNCp0aWxlX2J1ZmZlciszMCwgMTUqdGlsZV9idWZmZXIrMTVcclxuICApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBkcmF3VGlsZSh0aWxlLCB4LCB5KSB7XHJcbiAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gIGlmICh0aWxlc2hlZXQuY29tcGxldGUpIHtcclxuICAgIGRyYXdJbWFnZSh0aWxlLCB4LCB5KTtcclxuICB9XHJcbiAgZWxzZSB7XHJcbiAgICB0aWxlc2hlZXQubG9hZCA9IGRyYXdJbWFnZS5iaW5kKHRpbGUsIHgsIHkpO1xyXG4gIH1cclxuICBjdHgubW92ZVRvKHgsIHkpO1xyXG4gIGN0eC5saW5lVG8oeCArIHRpbGVfYnVmZmVyLCB5KTtcclxuICBjdHgubW92ZVRvKHgsIHkpO1xyXG4gIGN0eC5saW5lVG8oeCwgeSArIHRpbGVfYnVmZmVyKTtcclxuICBjdHguc3Ryb2tlKCk7XHJcbiAgY3R4LmNsb3NlUGF0aCgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBkcmF3UGxheWVyKHhfLCB5XywgZGlyZWN0aW9uKSB7XHJcbiAgY3R4LnN0cm9rZVN0eWxlID0gXCJ0cmFuc3BhcmVudFwiO1xyXG4gIGN0eC5kcmF3SW1hZ2UoY2hhcnNoZWV0LCBkaXJlY3Rpb24gKiB0aWxlX2J1ZmZlciwgMCxcclxuICAgIHRpbGVfYnVmZmVyLCB0aWxlX2J1ZmZlciwgeF8qdGlsZV9idWZmZXIsIHlfKnRpbGVfYnVmZmVyLCB0aWxlX2J1ZmZlciwgdGlsZV9idWZmZXIpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRyYXdJbWFnZSh0aWxlLCB4LCB5KSB7XHJcbiAgY3R4LnN0cm9rZVN0eWxlID0gXCJ0cmFuc3BhcmVudFwiO1xyXG4gIGN0eC5kcmF3SW1hZ2UodGlsZXNoZWV0LCAodGlsZSAlIDEwKSAqIHRpbGVfYnVmZmVyLCBNYXRoLmZsb29yKHRpbGUgLyAxMCkgKiB0aWxlX2J1ZmZlcixcclxuICAgIHRpbGVfYnVmZmVyLCB0aWxlX2J1ZmZlciwgeCwgeSwgdGlsZV9idWZmZXIsIHRpbGVfYnVmZmVyKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZHJhd090aGVycygpIHtcclxuICBmb3IgKGNvbnN0IHUgaW4gYWxsX3VzZXJzKSB7XHJcbiAgICBpZiAodSAhPSB1c2VyKSB7XHJcbiAgICAgIGNvbnN0IHVjeCA9IGFsbF91c2Vyc1t1XVsnY3gnXTtcclxuICAgICAgY29uc3QgdWN5ID0gYWxsX3VzZXJzW3VdWydjeSddO1xyXG4gICAgICBjb25zdCB4ID0gdWN4IC0gY3g7XHJcbiAgICAgIGNvbnN0IHkgPSB1Y3kgLSBjeTtcclxuICAgICAgaWYgKHggPj0gLXN4ICYmIHggPD0gc3ggJiYgeSA+PSAtc3kgJiYgeSA8PSBzeSkge1xyXG4gICAgICAgIC8vIEZpbGwgdGhlIGNoYXJhY3RlciB0aWxlXHJcbiAgICAgICAgZHJhd1BsYXllcih4K3N4LCB5K3N5LCBhbGxfdXNlcnNbdV1bJ2RpcmVjdGlvbiddKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIi8vIGdhbWUuanNcclxuXHJcbi8vIGltcG9ydCAnQGJhYmVsL3BvbHlmaWxsJztcclxuaW1wb3J0IHtjYW52YXMsIGRyYXd9IGZyb20gJy4vZHJhdyc7XHJcblxyXG4vKiBJbml0aWFsaXppbmcgKi9cclxuY29uc3Qgc29ja2V0ID0gaW8uY29ubmVjdCgnLy8nICsgZG9jdW1lbnQuZG9tYWluICsgJzonICsgbG9jYXRpb24ucG9ydCk7XHJcblxyXG5leHBvcnQgbGV0IHVzZXIgPSAwO1xyXG5leHBvcnQgbGV0IGFsbF91c2VycyA9IHt9O1xyXG5cclxuLy8gY2hhcmFjdGVyIHN0YXJ0ICgwLDApXHJcbmV4cG9ydCBsZXQgY3ggPSAwO1xyXG5leHBvcnQgbGV0IGN5ID0gMDtcclxuZXhwb3J0IGxldCBkaXIgPSAwO1xyXG5cclxuZXhwb3J0IGxldCBzeCA9IDA7XHJcbmV4cG9ydCBsZXQgc3kgPSAwO1xyXG5cclxuLyogTUFQIE9QVElPTlMgKi9cclxuZXhwb3J0IGxldCBtYXAgPSBbXTtcclxuZXhwb3J0IGxldCB0aWxlcyA9IHt9O1xyXG5leHBvcnQgbGV0IHRpbGVfYnVmZmVyID0gMDsgLy8gVGlsZSBCdWZmZXI6IEhvdyBsYXJnZSB0aWxlcyBhcmVcclxuXHJcbmNvbnN0IG1pZF93aWR0aCA9IGNhbnZhcy53aWR0aCAvIDI7XHJcbmNvbnN0IG1pZF9oZWlnaHQgPSBjYW52YXMuaGVpZ2h0IC8gMjtcclxuXHJcbmZ1bmN0aW9uIGRldGVybWluZUNsaWNrKGNsaWNrX3gsIGNsaWNrX3kpIHtcclxuICBjb25zdCBtaWRfb2Zmc2V0ID0gMTU7XHJcbiAgY29uc3QgbWlkX2xvdyA9IG1pZF93aWR0aCAtIG1pZF9vZmZzZXQ7XHJcbiAgY29uc3QgbWlkX2hpZ2ggPSBtaWRfd2lkdGggLSBtaWRfb2Zmc2V0O1xyXG4gIGlmIChwb2x5Z29uX2NsaWNrX3Rlc3QoNCxcclxuICAgIFttaWRfbG93LCBtaWRfaGlnaCwgbWlkX2hpZ2gsIG1pZF9sb3ddLCAvLyB4IHZhbHVlc1xyXG4gICAgW21pZF9sb3csIG1pZF9sb3csIG1pZF9oaWdoLCBtaWRfaGlnaF0sIC8vIHkgdmFsdWVzXHJcbiAgICBjbGlja194LCBjbGlja195KSkge1xyXG4gICAgc2VuZEFjdGlvbih7J2tleUNvZGUnOiAzMiwgJ3ByZXZlbnREZWZhdWx0JzogZnVuY3Rpb24oKXt9fSk7IC8vIFNwYWNlYmFyXHJcbiAgfVxyXG4gIGVsc2UgaWYgKHBvbHlnb25fY2xpY2tfdGVzdCgzLFxyXG4gICAgWzAsIG1pZF93aWR0aCwgY2FudmFzLndpZHRoXSwgWzAsIG1pZF9oZWlnaHQsIDBdLFxyXG4gICAgY2xpY2tfeCwgY2xpY2tfeSkpIHtcclxuICAgIHNlbmRBY3Rpb24oeydrZXlDb2RlJzogMzgsICdwcmV2ZW50RGVmYXVsdCc6IGZ1bmN0aW9uKCl7fX0pOyAvLyBVcFxyXG4gIH1cclxuICBlbHNlIGlmIChwb2x5Z29uX2NsaWNrX3Rlc3QoMyxcclxuICAgIFswLCBtaWRfd2lkdGgsIGNhbnZhcy53aWR0aF0sIFtjYW52YXMuaGVpZ2h0LCBtaWRfaGVpZ2h0LCBjYW52YXMuaGVpZ2h0XSxcclxuICAgIGNsaWNrX3gsIGNsaWNrX3kpKSB7XHJcbiAgICBzZW5kQWN0aW9uKHsna2V5Q29kZSc6IDQwLCAncHJldmVudERlZmF1bHQnOiBmdW5jdGlvbigpe319KTsgLy8gRG93blxyXG4gIH1cclxuICBlbHNlIGlmIChwb2x5Z29uX2NsaWNrX3Rlc3QoMyxcclxuICAgIFswLCBtaWRfd2lkdGgsIDBdLCBbMCwgbWlkX2hlaWdodCwgY2FudmFzLmhlaWdodF0sXHJcbiAgICBjbGlja194LCBjbGlja195KSkge1xyXG4gICAgc2VuZEFjdGlvbih7J2tleUNvZGUnOiAzNywgJ3ByZXZlbnREZWZhdWx0JzogZnVuY3Rpb24oKXt9fSk7IC8vIExlZnRcclxuICB9XHJcbiAgZWxzZSBpZiAocG9seWdvbl9jbGlja190ZXN0KDMsXHJcbiAgICBbY2FudmFzLndpZHRoLCBtaWRfd2lkdGgsIGNhbnZhcy53aWR0aF0sIFswLCBtaWRfaGVpZ2h0LCBjYW52YXMuaGVpZ2h0XSxcclxuICAgIGNsaWNrX3gsIGNsaWNrX3kpKSB7XHJcbiAgICBzZW5kQWN0aW9uKHsna2V5Q29kZSc6IDM5LCAncHJldmVudERlZmF1bHQnOiBmdW5jdGlvbigpe319KTsgLy8gUmlnaHRcclxuICB9XHJcbn1cclxuXHJcbi8vIHBvbHlnb25fY2xpY2tfdGVzdCBieSBXbS4gUmFuZG9scGggRnJhbmtsaW5cclxuLy8gaW50IGxpc3QoaW50KSBsaXN0KGludCkgaW50IGludCAtPiBib29sXHJcbi8vIENvbnN1bWVzIHRoZSBudW1iZXIgb2YgdmVydGljZXMsIGFsb25nIHdpdGggZWFjaCB2ZXJ0ZXggY29vcmRpbmF0ZSxcclxuLy8gYXMgYSBsaXN0IG9mIHggY29vcmRpbmF0ZXMgYW5kIGEgc2Vjb25kIGxpc3Qgb2YgeSBjb29yZGluYXRlcy5cclxuLy8gVGVzdHMgYWdhaW5zdCBjbGlja2VkIGNvb3JkaW5hdGVzIHRvIGRldGVybWluZSB3aGV0aGVyIHRoZVxyXG4vLyBjbGljayB3YXMgd2l0aGluIHRoZSBwb2x5Z29uIGZvcm1lZCBieSBzYWlkIHZlcnRpY2VzLlxyXG5mdW5jdGlvbiBwb2x5Z29uX2NsaWNrX3Rlc3QoIG52ZXJ0LCB2ZXJ0eCwgdmVydHksIHRlc3R4LCB0ZXN0eSApIHtcclxuICAgIGxldCBpLCBqLCBjID0gZmFsc2U7XHJcbiAgICBmb3IoIGkgPSAwLCBqID0gbnZlcnQtMTsgaSA8IG52ZXJ0OyBqID0gaSsrICkge1xyXG4gICAgICAgIGlmKCAoICggdmVydHlbaV0gPiB0ZXN0eSApICE9ICggdmVydHlbal0gPiB0ZXN0eSApICkgJiZcclxuICAgICAgICAgICAgKCB0ZXN0eCA8ICggdmVydHhbal0gLSB2ZXJ0eFtpXSApICogKCB0ZXN0eSAtIHZlcnR5W2ldICkgLyAoIHZlcnR5W2pdIC0gdmVydHlbaV0gKSArIHZlcnR4W2ldICkgKSB7XHJcbiAgICAgICAgICAgICAgICBjID0gIWM7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldENsaWNrQ29vcmRzKGUpIHtcclxuICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgY29uc3QgY2xpY2tfeCA9IGUub2Zmc2V0WDtcclxuICBjb25zdCBjbGlja195ID0gZS5vZmZzZXRZO1xyXG4gIGRldGVybWluZUNsaWNrKGNsaWNrX3gsIGNsaWNrX3kpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRUb3VjaENvb3JkcyhlKSB7XHJcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIGNvbnN0IGNsaWNrX3ggPSBlLnRvdWNoZXNbMF0uY2xpZW50WCAtIGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xyXG4gIGNvbnN0IGNsaWNrX3kgPSBlLnRvdWNoZXNbMF0uY2xpZW50WSAtIGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XHJcbiAgZGV0ZXJtaW5lQ2xpY2soY2xpY2tfeCwgY2xpY2tfeSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBsaXN0ZW5lcigpIHtcclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgc2VuZEFjdGlvbik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjbGlja0xpc3RlbmVyKCkge1xyXG4gIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBnZXRDbGlja0Nvb3Jkcyk7XHJcbiAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBnZXRUb3VjaENvb3Jkcyk7XHJcbiAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpfSk7XHJcbn1cclxuXHJcbi8qIE1PVkVNRU5UICovXHJcbmZ1bmN0aW9uIHNlbmRBY3Rpb24oZSkge1xyXG4gIGlmICghW1xyXG4gICAgMzIsIDM3LCAzOCwgMzksIDQwLCA2NSwgNjgsIDY5LCA4MywgODdcclxuICBdLmluY2x1ZGVzKGUua2V5Q29kZSkpIHJldHVybjtcclxuICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gIGlmIChlLmtleUNvZGUgPT0gMzIpIHsgLy8gU3BhY2ViYXJcclxuICAgIGNvbnNvbGUubG9nKFwiRXZlbnR1YWxseSB3ZSB3aWxsIGltcGxlbWVudCB0aGUgc3BhY2ViYXIgZm9yIGludGVyYWN0aW5nXCJcclxuICAgICAgKyBcIiB3aXRoIGl0ZW1zIGJlbG93IHlvdXIgY2hhcmFjdGVyLlwiKTtcclxuICB9XHJcblxyXG4gIGVsc2UgaWYgKGUua2V5Q29kZSA9PSA2OSkge1xyXG4gICAgY29uc29sZS5sb2coXCJFdmVudHVhbGx5IHdlIHdpbGwgaW1wbGVtZW50IHRoZSAnZScga2V5IGZvciBpbnRlcmFjdGluZ1wiXHJcbiAgICAgICsgXCIgd2l0aCBuZWFyYnkgbnBjcyBhbmQgb2JqZWN0cywgaWYgeW91ciBwbGF5ZXIgaXMgZmFjaW5nIHRoZW0hXCIpO1xyXG4gIH1cclxuXHJcbiAgc29ja2V0LmVtaXQoJ2pzb24nLCBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAndXNlcic6IHVzZXIsXHJcbiAgICAnYWN0aW9uJzogZS5rZXlDb2RlLFxyXG4gIH0pKVxyXG59XHJcblxyXG5mdW5jdGlvbiBkb01vdmUobW92ZW1lbnQpIHtcclxuICBjeCA9IG1vdmVtZW50WydjeCddO1xyXG4gIGN5ID0gbW92ZW1lbnRbJ2N5J107XHJcbiAgZGlyID0gbW92ZW1lbnRbJ2RpcmVjdGlvbiddO1xyXG59XHJcblxyXG5sZXQgbGFzdDtcclxuKGZ1bmN0aW9uICgpIHtcclxuICBmdW5jdGlvbiBtYWluKCB0aW1lc3RhbXAgKSB7XHJcbiAgICBpZiAoIWxhc3QpIHtcclxuICAgICAgbGFzdCA9IHRpbWVzdGFtcFxyXG4gICAgICBkcmF3KCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgaWYgKHRpbWVzdGFtcCAtIGxhc3QgPiAxMDApIHtcclxuICAgICAgICBkcmF3KCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSggbWFpbiApO1xyXG4gIH1cclxuXHJcbiAgc29ja2V0Lm9uKCdjb25uZWN0JywgZnVuY3Rpb24oKSB7XHJcbiAgICBsaXN0ZW5lcigpOyAvLyBCZWdpbiBtb3ZlbWVudCBsaXN0ZW5lcnNcclxuICAgIGNsaWNrTGlzdGVuZXIoKTtcclxuICB9KTtcclxuXHJcbiAgLy8gUmVjaWV2ZXMgYW5kIHBvcHVsYXRlcyBpbml0aWFsIGRhdGEuXHJcbiAgc29ja2V0Lm9uKCdpbml0X2RhdGEnLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgZGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7XHJcbiAgICB1c2VyID0gZGF0YVswXTtcclxuICAgIGN4ID0gZGF0YVsxXVswXTtcclxuICAgIGN5ID0gZGF0YVsxXVsxXTtcclxuICAgIGRpciA9IGRhdGFbMV1bMl07XHJcbiAgICBtYXAgID0gZGF0YVsyXVsnbWFwJ107XHJcbiAgICB0aWxlX2J1ZmZlciA9IGRhdGFbM11bMF07XHJcbiAgICBpZiAoY2FudmFzLndpZHRoIDwgNDUwKSB7XHJcbiAgICAgIHN4ID0gNDtcclxuICAgICAgc3kgPSA0O1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHN4ID0gZGF0YVszXVsxXTtcclxuICAgICAgc3kgPSBkYXRhWzNdWzJdO1xyXG4gICAgfVxyXG4gICAgbWFpbigpOyAvLyBTdGFydCB0aGUgY3ljbGVcclxuICB9KTtcclxuXHJcbiAgc29ja2V0Lm9uKCd0aWxlcycsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICB0aWxlcyA9IEpTT04ucGFyc2UoZGF0YSk7XHJcbiAgfSk7XHJcblxyXG4gIC8vIFJlY2lldmVzIGFuZCBwb3B1bGF0ZXMgbWFwIGRhdGEuXHJcbiAgc29ja2V0Lm9uKCdtYXBfZGF0YScsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICBkYXRhID0gSlNPTi5wYXJzZShkYXRhKTtcclxuICB9KTtcclxuXHJcbiAgLy8gTW92ZXMgdGhlIGxvY2FsIHBsYXllclxyXG4gIHNvY2tldC5vbignbW92ZW1lbnRfc2VsZicsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICBkYXRhID0gSlNPTi5wYXJzZShkYXRhKTtcclxuICAgIGlmICh1c2VyID09IGRhdGFbJ3VzZXInXSlcclxuICAgICAgZG9Nb3ZlKGRhdGEpO1xyXG4gIH0pO1xyXG5cclxuICAvLyBVcGRhdGVzIGFsbCBwbGF5ZXJzXHJcbiAgc29ja2V0Lm9uKCd1cGRhdGVfYWxsJywgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgIGFsbF91c2VycyA9IEpTT04ucGFyc2UoZGF0YSk7XHJcbiAgfSk7XHJcblxyXG4gIHNvY2tldC5vbignZmFpbHVyZScsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICBjb25zb2xlLmxvZygnVW5zeW5jaHJvbml6ZWQuJyk7XHJcbiAgfSk7XHJcbn0pKCk7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n")}]);