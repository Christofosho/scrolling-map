!function(Q){var F={};function B(U){if(F[U])return F[U].exports;var s=F[U]={i:U,l:!1,exports:{}};return Q[U].call(s.exports,s,s.exports,B),s.l=!0,s.exports}B.m=Q,B.c=F,B.d=function(Q,F,U){B.o(Q,F)||Object.defineProperty(Q,F,{enumerable:!0,get:U})},B.r=function(Q){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},B.t=function(Q,F){if(1&F&&(Q=B(Q)),8&F)return Q;if(4&F&&"object"==typeof Q&&Q&&Q.__esModule)return Q;var U=Object.create(null);if(B.r(U),Object.defineProperty(U,"default",{enumerable:!0,value:Q}),2&F&&"string"!=typeof Q)for(var s in Q)B.d(U,s,function(F){return Q[F]}.bind(null,s));return U},B.n=function(Q){var F=Q&&Q.__esModule?function(){return Q.default}:function(){return Q};return B.d(F,"a",F),F},B.o=function(Q,F){return Object.prototype.hasOwnProperty.call(Q,F)},B.p="",B(B.s=0)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./js/draw.js\n// draw.js\n\nconst canvas = document.getElementById('canvas');\ncanvas.addEventListener(\"contextmenu\", function (e) {\n  e.preventDefault();\n}, false);\nconst ctx = canvas.getContext('2d'); // Rows of 10 30x30 tiles.\n\nconst tilesheet = new Image();\ntilesheet.src = \"static/tilesheet.png\";\nconst charsheet = new Image();\ncharsheet.src = \"static/charsheet.png\";\nconst optionsheet = new Image();\noptionsheet.src = \"static/optionsheet.png\"; // Small windows means smaller canvas.\n\nif (window.innerWidth < 500) {\n  canvas.width = 330;\n  canvas.height = 290;\n}\n/* DRAWING */\n\n\nfunction draw() {\n  const canvas_width = canvas.width - 60;\n  const canvas_height = canvas.height - 20;\n  ctx.clearRect(0, 0, canvas_width, canvas_height);\n\n  for (let x = 0; x < canvas_width; x += tile_buffer) {\n    const curr_x = x / tile_buffer + (cx - sx);\n\n    for (let y = 0; y < canvas_height; y += tile_buffer) {\n      const tile = map[y / tile_buffer + (cy - sy)][curr_x];\n\n      if (Array.isArray(tile)) {\n        for (const def in tile) {\n          drawTile(tile[def], x, y);\n        }\n      } else {\n        drawTile(tile, x, y);\n      }\n    }\n  }\n\n  drawSidePanel();\n  drawOthers(); // Fill the local character tile\n\n  if (charsheet.complete) {\n    drawPlayer(sx, sy, dir, user);\n  } else {\n    charsheet.addEventListener('load', drawPlayer);\n  } // Fill the position\n\n\n  ctx.fillStyle = \"white\";\n  ctx.strokeStyle = \"black\";\n  ctx.fillRect(0, canvas_height, canvas_width, 20);\n  ctx.strokeText(\"(\" + cx + \", \" + cy + \")\", canvas_width - 40, canvas_height + 10);\n}\n\nfunction drawTile(tile, x, y) {\n  ctx.beginPath();\n\n  if (tilesheet.complete) {\n    drawImage(tile, x, y);\n  } else {\n    tilesheet.load = drawImage.bind(tile, x, y);\n  }\n\n  ctx.moveTo(x, y);\n  ctx.lineTo(x + tile_buffer, y);\n  ctx.moveTo(x, y);\n  ctx.lineTo(x, y + tile_buffer);\n  ctx.stroke();\n  ctx.closePath();\n}\n\nfunction drawPlayer(x_, y_, direction, username) {\n  ctx.strokeStyle = \"transparent\";\n  ctx.drawImage(charsheet, direction * tile_buffer, 0, tile_buffer, tile_buffer, x_ * tile_buffer, y_ * tile_buffer, tile_buffer, tile_buffer);\n  ctx.fillStyle = \"black\";\n  ctx.font = \"10pt Arial\";\n  ctx.textBaseline = \"middle\";\n  ctx.textAlign = \"center\";\n  ctx.fillText(username, x_ * tile_buffer + tile_buffer / 2, y_ * tile_buffer - 2);\n}\n\nfunction drawImage(tile, x, y) {\n  ctx.strokeStyle = \"transparent\";\n  ctx.drawImage(tilesheet, tile % 10 * tile_buffer, Math.floor(tile / 10) * tile_buffer, tile_buffer, tile_buffer, x, y, tile_buffer, tile_buffer);\n}\n\nfunction drawOthers() {\n  for (const u in all_users) {\n    if (u != user) {\n      const ucx = all_users[u].cx;\n      const ucy = all_users[u].cy;\n      const x = ucx - cx;\n      const y = ucy - cy;\n\n      if (x >= -sx && x <= sx && y >= -sy && y <= sy) {\n        // Fill the character tile\n        drawPlayer(x + sx, y + sy, all_users[u].direction, all_users[u].username);\n      }\n    }\n  }\n}\n\nfunction drawSidePanel() {\n  ctx.strokeStyle = \"transparent\";\n  ctx.drawImage(optionsheet, 0, 0, 60, 450, canvas.width - 60, 0, 60, 450);\n}\n// CONCATENATED MODULE: ./js/game.js\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"user\", function() { return user; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"all_users\", function() { return all_users; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cx\", function() { return cx; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cy\", function() { return cy; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"dir\", function() { return dir; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sx\", function() { return sx; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sy\", function() { return sy; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"map\", function() { return map; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"entities\", function() { return entities; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"action_data\", function() { return action_data; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"tile_buffer\", function() { return tile_buffer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"listener\", function() { return listener; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"clickListener\", function() { return clickListener; });\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n// game.js\n// import '@babel/polyfill';\n\n/* Initializing */\n\nconst socket = io.connect('//' + document.domain + ':' + location.port);\nlet user = \"\";\nlet all_users = {}; // character start (0,0)\n\nlet cx = 0;\nlet cy = 0;\nlet dir = 0;\nlet sx = 0;\nlet sy = 0;\n/* MAP OPTIONS */\n\nlet map = [];\nlet entities = [];\nlet action_data = {};\nlet tile_buffer = 0; // Tile Buffer: How large tiles are\n\nfunction determineClick(click_x, click_y) {\n  let canvas_width = canvas.width - 60;\n  let canvas_height = canvas.height - 20;\n\n  if (click_x > canvas_width || click_y > canvas_height) {\n    return;\n  }\n\n  const mid_offset = 15;\n  const mid_width = Math.floor(canvas_width / 2);\n  const mid_height = Math.floor(canvas_height / 2);\n  const mid_low = mid_width - mid_offset;\n  const mid_high = mid_width + mid_offset; // Click on middle square (where player is standing)\n\n  if (polygon_click_test(4, [mid_low, mid_high, mid_high, mid_low], // x values\n  [mid_low, mid_low, mid_high, mid_high], // y values\n  click_x, click_y)) {\n    sendAction({\n      'keyCode': 32,\n      'preventDefault': function preventDefault() {}\n    }); // Spacebar\n  } // Click on square directly above player location.\n  else if (polygon_click_test(4, [mid_low, mid_high, mid_high, mid_low], // x values\n    [mid_low - tile_buffer, mid_low - tile_buffer, mid_low, mid_low], // y values\n    click_x, click_y)) {\n      if (dir == 1 && containsObject(cx, cy - 1)) {\n        sendAction({\n          'keyCode': 69,\n          'preventDefault': function preventDefault() {}\n        }); // E\n      } else {\n        sendAction({\n          'keyCode': 38,\n          'preventDefault': function preventDefault() {}\n        }); // Up\n      }\n    } // Click on square directly below player location.\n    else if (polygon_click_test(4, [mid_low, mid_low, mid_high, mid_high], // x values\n      [mid_high, mid_high + tile_buffer, mid_high + tile_buffer, mid_high], // y values\n      click_x, click_y)) {\n        if (dir == 0 && containsObject(cx, cy + 1)) {\n          sendAction({\n            'keyCode': 69,\n            'preventDefault': function preventDefault() {}\n          }); // E\n        } else {\n          sendAction({\n            'keyCode': 40,\n            'preventDefault': function preventDefault() {}\n          }); // Up\n        }\n      } // Click on square directly left player location.\n      else if (polygon_click_test(4, [mid_low - tile_buffer, mid_low, mid_low, mid_low - tile_buffer], // x values\n        [mid_low, mid_low, mid_high, mid_high], // y values\n        click_x, click_y)) {\n          if (dir == 3 && containsObject(cx - 1, cy)) {\n            sendAction({\n              'keyCode': 69,\n              'preventDefault': function preventDefault() {}\n            }); // E\n          } else {\n            sendAction({\n              'keyCode': 37,\n              'preventDefault': function preventDefault() {}\n            }); // Up\n          }\n        } // Click on square directly right player location.\n        else if (polygon_click_test(4, [mid_high, mid_high + tile_buffer, mid_high + tile_buffer, mid_high], // x values\n          [mid_low, mid_low, mid_high, mid_high], // y values\n          click_x, click_y)) {\n            if (dir == 2 && containsObject(cx + 1, cy)) {\n              sendAction({\n                'keyCode': 69,\n                'preventDefault': function preventDefault() {}\n              }); // E\n            } else {\n              sendAction({\n                'keyCode': 39,\n                'preventDefault': function preventDefault() {}\n              }); // Up\n            }\n          } else if (polygon_click_test(3, [0, mid_width, canvas_width], [0, mid_height, 0], click_x, click_y)) {\n            sendAction({\n              'keyCode': 38,\n              'preventDefault': function preventDefault() {}\n            }); // Up\n          } else if (polygon_click_test(3, [0, mid_width, canvas_width], [canvas_height, mid_height, canvas_height], click_x, click_y)) {\n            sendAction({\n              'keyCode': 40,\n              'preventDefault': function preventDefault() {}\n            }); // Down\n          } else if (polygon_click_test(3, [0, mid_width, 0], [0, mid_height, canvas_height], click_x, click_y)) {\n            sendAction({\n              'keyCode': 37,\n              'preventDefault': function preventDefault() {}\n            }); // Left\n          } else if (polygon_click_test(3, [canvas_width, mid_width, canvas_width], [0, mid_height, canvas_height], click_x, click_y)) {\n            sendAction({\n              'keyCode': 39,\n              'preventDefault': function preventDefault() {}\n            }); // Right\n          }\n} // polygon_click_test by Wm. Randolph Franklin\n// int list(int) list(int) int int -> bool\n// Consumes the number of vertices, along with each vertex coordinate,\n// as a list of x coordinates and a second list of y coordinates.\n// Tests against clicked coordinates to determine whether the\n// click was within the polygon formed by said vertices.\n\n\nfunction polygon_click_test(nvert, vertx, verty, testx, testy) {\n  let i,\n      j,\n      c = false;\n\n  for (i = 0, j = nvert - 1; i < nvert; j = i++) {\n    if (verty[i] > testy != verty[j] > testy && testx < (vertx[j] - vertx[i]) * (testy - verty[i]) / (verty[j] - verty[i]) + vertx[i]) {\n      c = !c;\n    }\n  }\n\n  return c;\n}\n\nfunction getClickCoords(e) {\n  e.preventDefault();\n  const click_x = e.offsetX;\n  const click_y = e.offsetY;\n  determineClick(click_x, click_y);\n}\n\nfunction getTouchCoords(e) {\n  e.preventDefault();\n  const click_x = e.touches[0].clientX - canvas.getBoundingClientRect().left;\n  const click_y = e.touches[0].clientY - canvas.getBoundingClientRect().top;\n  determineClick(click_x, click_y);\n}\n\nfunction listener() {\n  document.addEventListener('keydown', sendAction);\n}\nfunction clickListener() {\n  canvas.addEventListener('mousedown', getClickCoords);\n  canvas.addEventListener('touchstart', getTouchCoords);\n  canvas.addEventListener('touchend', function (e) {\n    e.preventDefault();\n  });\n} // Check if the tile at (x_, y_) has an object.\n\nfunction containsObject(x_, y_) {\n  if (Array.isArray(map[y_][x_])) {\n    if (entities[map[y_][x_][1]].type == \"object\") {\n      return true;\n    }\n  }\n\n  return false;\n}\n/* MOVEMENT */\n\n\nfunction sendAction(e) {\n  if (![32, 37, 38, 39, 40, 65, 68, 69, 83, 87].includes(e.keyCode)) return;\n  e.preventDefault();\n\n  if (e.keyCode == 32) {\n    // Spacebar\n    console.log(\"Eventually we will implement the spacebar for interacting\" + \" with items below your character.\");\n  }\n\n  socket.emit('json', JSON.stringify({\n    'username': user,\n    'action': e.keyCode\n  }));\n}\n\nfunction doMove(movement) {\n  cx = movement.cx;\n  cy = movement.cy;\n  dir = movement.direction;\n}\n\nlet last;\n\n(function () {\n  function main(timestamp) {\n    if (!last) {\n      last = timestamp;\n      draw();\n    } else {\n      if (timestamp - last > 100) {\n        draw();\n      }\n    }\n\n    requestAnimationFrame(main);\n  }\n\n  socket.on('connect', function () {\n    const form = document.getElementById(\"authentication\");\n    form.addEventListener('submit', function (e) {\n      e.preventDefault();\n      socket.emit('authentication', JSON.stringify({\n        'username': document.getElementById('username').value\n      }));\n    });\n  });\n  socket.on('authenticated', function (data) {\n    data = JSON.parse(data);\n    const msg = document.getElementById(\"message\");\n\n    if (data.success) {\n      msg.innerHTML = \"Authenticated successfully!\";\n      setTimeout(function () {\n        msg.innerHTML = \"Loading data...\";\n        socket.emit('retrieve_init_data', JSON.stringify({\n          'username': data.username\n        }));\n      }, 600);\n    } else {\n      msg.innerHTML = \"Authentication failed. Please try again.\";\n    }\n  });\n\n  function loadMap(attempts) {\n    const loaded = checkDataAcquired();\n    const msg = document.getElementById(\"message\");\n\n    if (loaded) {\n      setTimeout(function () {\n        document.getElementById('auth').className = \"hide\";\n        document.querySelector('main').className = \"show\";\n        msg.innerHTML = \"Welcome to the world.\";\n        main(); // Start the cycle\n\n        listener(); // Begin movement listeners\n\n        clickListener();\n      }, 1000);\n      return; // Do not execute the rest of the function.\n    }\n\n    attempts++;\n\n    if (attempts < 10) {\n      setTimeout(function () {\n        loadMap(attempts);\n      }, 100);\n      return; // Do not execute the rest of the function.\n    }\n\n    msg.innerHTML = \"Failed to get data from the server.\";\n  }\n\n  function checkDataAcquired() {\n    const got_user = user !== \"\";\n    const got_map = map !== undefined || map.length > 0;\n    return got_user && got_map;\n  } // Recieves and populates initial data.\n\n\n  socket.on('init_data', function (data) {\n    data = JSON.parse(data);\n    var _data = data;\n\n    var _data2 = _slicedToArray(_data, 5);\n\n    user = _data2[0];\n\n    var _data2$ = _slicedToArray(_data2[1], 3);\n\n    cx = _data2$[0];\n    cy = _data2$[1];\n    dir = _data2$[2];\n    map = _data2[2];\n    entities = _data2[3];\n\n    var _data2$2 = _slicedToArray(_data2[4], 3);\n\n    tile_buffer = _data2$2[0];\n    sx = _data2$2[1];\n    sy = _data2$2[2];\n\n    if (canvas.width < 450) {\n      sx = 4;\n      sy = 4;\n    }\n\n    loadMap(0);\n  });\n  socket.on('object_action', function (data) {\n    action_data = JSON.parse(data);\n  }); // Recieves and populates map data.\n\n  socket.on('map_data', function (data) {\n    map = JSON.parse(data);\n  });\n  socket.on('entity_data', function (data) {\n    entities = JSON.parse(data);\n  }); // Moves the local player\n\n  socket.on('movement_self', function (data) {\n    data = JSON.parse(data);\n    if (user == data.username) doMove(data);\n  }); // Updates all players\n\n  socket.on('update_all', function (data) {\n    all_users = JSON.parse(data);\n  });\n  socket.on('failure', function (data) {\n    console.log('Unsynchronized.');\n  });\n})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9kcmF3LmpzP2IyM2YiLCJ3ZWJwYWNrOi8vLy4vanMvZ2FtZS5qcz9lNjU3Il0sIm5hbWVzIjpbImNhbnZhcyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInByZXZlbnREZWZhdWx0IiwiY3R4IiwiZ2V0Q29udGV4dCIsInRpbGVzaGVldCIsIkltYWdlIiwic3JjIiwiY2hhcnNoZWV0Iiwib3B0aW9uc2hlZXQiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwid2lkdGgiLCJoZWlnaHQiLCJkcmF3IiwiY2FudmFzX3dpZHRoIiwiY2FudmFzX2hlaWdodCIsImNsZWFyUmVjdCIsIngiLCJ0aWxlX2J1ZmZlciIsImN1cnJfeCIsImN4Iiwic3giLCJ5IiwidGlsZSIsIm1hcCIsImN5Iiwic3kiLCJBcnJheSIsImlzQXJyYXkiLCJkZWYiLCJkcmF3VGlsZSIsImRyYXdTaWRlUGFuZWwiLCJkcmF3T3RoZXJzIiwiY29tcGxldGUiLCJkcmF3UGxheWVyIiwiZGlyIiwidXNlciIsImZpbGxTdHlsZSIsInN0cm9rZVN0eWxlIiwiZmlsbFJlY3QiLCJzdHJva2VUZXh0IiwiYmVnaW5QYXRoIiwiZHJhd0ltYWdlIiwibG9hZCIsImJpbmQiLCJtb3ZlVG8iLCJsaW5lVG8iLCJzdHJva2UiLCJjbG9zZVBhdGgiLCJ4XyIsInlfIiwiZGlyZWN0aW9uIiwidXNlcm5hbWUiLCJmb250IiwidGV4dEJhc2VsaW5lIiwidGV4dEFsaWduIiwiZmlsbFRleHQiLCJNYXRoIiwiZmxvb3IiLCJ1IiwiYWxsX3VzZXJzIiwidWN4IiwidWN5Iiwic29ja2V0IiwiaW8iLCJjb25uZWN0IiwiZG9tYWluIiwibG9jYXRpb24iLCJwb3J0IiwiZW50aXRpZXMiLCJhY3Rpb25fZGF0YSIsImRldGVybWluZUNsaWNrIiwiY2xpY2tfeCIsImNsaWNrX3kiLCJtaWRfb2Zmc2V0IiwibWlkX3dpZHRoIiwibWlkX2hlaWdodCIsIm1pZF9sb3ciLCJtaWRfaGlnaCIsInBvbHlnb25fY2xpY2tfdGVzdCIsInNlbmRBY3Rpb24iLCJjb250YWluc09iamVjdCIsIm52ZXJ0IiwidmVydHgiLCJ2ZXJ0eSIsInRlc3R4IiwidGVzdHkiLCJpIiwiaiIsImMiLCJnZXRDbGlja0Nvb3JkcyIsIm9mZnNldFgiLCJvZmZzZXRZIiwiZ2V0VG91Y2hDb29yZHMiLCJ0b3VjaGVzIiwiY2xpZW50WCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImxlZnQiLCJjbGllbnRZIiwidG9wIiwibGlzdGVuZXIiLCJjbGlja0xpc3RlbmVyIiwidHlwZSIsImluY2x1ZGVzIiwia2V5Q29kZSIsImNvbnNvbGUiLCJsb2ciLCJlbWl0IiwiSlNPTiIsInN0cmluZ2lmeSIsImRvTW92ZSIsIm1vdmVtZW50IiwibGFzdCIsIm1haW4iLCJ0aW1lc3RhbXAiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJvbiIsImZvcm0iLCJ2YWx1ZSIsImRhdGEiLCJwYXJzZSIsIm1zZyIsInN1Y2Nlc3MiLCJpbm5lckhUTUwiLCJzZXRUaW1lb3V0IiwibG9hZE1hcCIsImF0dGVtcHRzIiwibG9hZGVkIiwiY2hlY2tEYXRhQWNxdWlyZWQiLCJjbGFzc05hbWUiLCJxdWVyeVNlbGVjdG9yIiwiZ290X3VzZXIiLCJnb3RfbWFwIiwidW5kZWZpbmVkIiwibGVuZ3RoIl0sIm1hcHBpbmdzIjoiOzs7QUFBQTtBQUVBO0FBRU8sTUFBTUEsTUFBTSxHQUFHQyxRQUFRLENBQUNDLGNBQVQsQ0FBd0IsUUFBeEIsQ0FBZjtBQUNQRixNQUFNLENBQUNHLGdCQUFQLENBQXdCLGFBQXhCLEVBQ0UsVUFBVUMsQ0FBVixFQUFhO0FBQUNBLEdBQUMsQ0FBQ0MsY0FBRjtBQUFvQixDQURwQyxFQUNzQyxLQUR0QztBQUdBLE1BQU1DLEdBQUcsR0FBR04sTUFBTSxDQUFDTyxVQUFQLENBQWtCLElBQWxCLENBQVosQyxDQUVBOztBQUNBLE1BQU1DLFNBQVMsR0FBRyxJQUFJQyxLQUFKLEVBQWxCO0FBQ0FELFNBQVMs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LEVBQVAsQ0FBVSxTQUFWLEVBQXFCLFVBQVVHLElBQVYsRUFBZ0I7QUFDbkNkLFdBQU8sQ0FBQ0MsR0FBUixDQUFZLGlCQUFaO0FBQ0QsR0FGRDtBQUdELENBL0dEIiwiZmlsZSI6IjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBkcmF3LmpzXHJcblxyXG5pbXBvcnQge2FsbF91c2VycywgY3gsIGN5LCBkaXIsIG1hcCwgc3gsIHN5LCB0aWxlX2J1ZmZlciwgdXNlcn0gZnJvbSAnLi9nYW1lLmpzJztcclxuXHJcbmV4cG9ydCBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FudmFzJyk7XHJcbmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwiY29udGV4dG1lbnVcIixcclxuICBmdW5jdGlvbiAoZSkge2UucHJldmVudERlZmF1bHQoKTt9LCBmYWxzZSk7XHJcblxyXG5jb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuXHJcbi8vIFJvd3Mgb2YgMTAgMzB4MzAgdGlsZXMuXHJcbmNvbnN0IHRpbGVzaGVldCA9IG5ldyBJbWFnZSgpO1xyXG50aWxlc2hlZXQuc3JjID0gXCJzdGF0aWMvdGlsZXNoZWV0LnBuZ1wiO1xyXG5cclxuY29uc3QgY2hhcnNoZWV0ID0gbmV3IEltYWdlKCk7XHJcbmNoYXJzaGVldC5zcmMgPSBcInN0YXRpYy9jaGFyc2hlZXQucG5nXCI7XHJcblxyXG5jb25zdCBvcHRpb25zaGVldCA9IG5ldyBJbWFnZSgpO1xyXG5vcHRpb25zaGVldC5zcmMgPSBcInN0YXRpYy9vcHRpb25zaGVldC5wbmdcIjtcclxuXHJcbi8vIFNtYWxsIHdpbmRvd3MgbWVhbnMgc21hbGxlciBjYW52YXMuXHJcbmlmICh3aW5kb3cuaW5uZXJXaWR0aCA8IDUwMCkge1xyXG4gIGNhbnZhcy53aWR0aCA9IDMzMDtcclxuICBjYW52YXMuaGVpZ2h0ID0gMjkwO1xyXG59XHJcblxyXG4vKiBEUkFXSU5HICovXHJcbmV4cG9ydCBmdW5jdGlvbiBkcmF3KCkge1xyXG4gIGNvbnN0IGNhbnZhc193aWR0aCA9IGNhbnZhcy53aWR0aCAtIDYwO1xyXG4gIGNvbnN0IGNhbnZhc19oZWlnaHQgPSBjYW52YXMuaGVpZ2h0IC0gMjA7XHJcbiAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXNfd2lkdGgsIGNhbnZhc19oZWlnaHQpO1xyXG4gIGZvciAobGV0IHggPSAwOyB4IDwgY2FudmFzX3dpZHRoOyB4ICs9IHRpbGVfYnVmZmVyKSB7XHJcbiAgICBjb25zdCBjdXJyX3ggPSB4L3RpbGVfYnVmZmVyKyhjeC1zeCk7XHJcbiAgICBmb3IgKGxldCB5ID0gMDsgeSA8IGNhbnZhc19oZWlnaHQ7IHkgKz0gdGlsZV9idWZmZXIpIHtcclxuICAgICAgY29uc3QgdGlsZSA9IG1hcFt5L3RpbGVfYnVmZmVyKyhjeS1zeSldW2N1cnJfeF07XHJcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHRpbGUpKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBkZWYgaW4gdGlsZSkge1xyXG4gICAgICAgICAgZHJhd1RpbGUodGlsZVtkZWZdLCB4LCB5KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgZHJhd1RpbGUodGlsZSwgeCwgeSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGRyYXdTaWRlUGFuZWwoKTtcclxuXHJcbiAgZHJhd090aGVycygpO1xyXG5cclxuICAvLyBGaWxsIHRoZSBsb2NhbCBjaGFyYWN0ZXIgdGlsZVxyXG4gIGlmIChjaGFyc2hlZXQuY29tcGxldGUpIHtcclxuICAgIGRyYXdQbGF5ZXIoc3gsIHN5LCBkaXIsIHVzZXIpO1xyXG4gIH1cclxuICBlbHNlIHtcclxuICAgIGNoYXJzaGVldC5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZHJhd1BsYXllcik7XHJcbiAgfVxyXG5cclxuICAvLyBGaWxsIHRoZSBwb3NpdGlvblxyXG4gIGN0eC5maWxsU3R5bGUgPSBcIndoaXRlXCI7XHJcbiAgY3R4LnN0cm9rZVN0eWxlID0gXCJibGFja1wiO1xyXG4gIGN0eC5maWxsUmVjdCgwLCBjYW52YXNfaGVpZ2h0LCBjYW52YXNfd2lkdGgsIDIwKTtcclxuICBjdHguc3Ryb2tlVGV4dChcclxuICAgIFwiKFwiICsgY3ggKyBcIiwgXCIgKyBjeSArIFwiKVwiLFxyXG4gICAgY2FudmFzX3dpZHRoIC0gNDAsIGNhbnZhc19oZWlnaHQgKyAxMFxyXG4gICk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRyYXdUaWxlKHRpbGUsIHgsIHkpIHtcclxuICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgaWYgKHRpbGVzaGVldC5jb21wbGV0ZSkge1xyXG4gICAgZHJhd0ltYWdlKHRpbGUsIHgsIHkpO1xyXG4gIH1cclxuICBlbHNlIHtcclxuICAgIHRpbGVzaGVldC5sb2FkID0gZHJhd0ltYWdlLmJpbmQodGlsZSwgeCwgeSk7XHJcbiAgfVxyXG4gIGN0eC5tb3ZlVG8oeCwgeSk7XHJcbiAgY3R4LmxpbmVUbyh4ICsgdGlsZV9idWZmZXIsIHkpO1xyXG4gIGN0eC5tb3ZlVG8oeCwgeSk7XHJcbiAgY3R4LmxpbmVUbyh4LCB5ICsgdGlsZV9idWZmZXIpO1xyXG4gIGN0eC5zdHJva2UoKTtcclxuICBjdHguY2xvc2VQYXRoKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRyYXdQbGF5ZXIoeF8sIHlfLCBkaXJlY3Rpb24sIHVzZXJuYW1lKSB7XHJcbiAgY3R4LnN0cm9rZVN0eWxlID0gXCJ0cmFuc3BhcmVudFwiO1xyXG4gIGN0eC5kcmF3SW1hZ2UoY2hhcnNoZWV0LCBkaXJlY3Rpb24gKiB0aWxlX2J1ZmZlciwgMCxcclxuICAgIHRpbGVfYnVmZmVyLCB0aWxlX2J1ZmZlciwgeF8qdGlsZV9idWZmZXIsIHlfKnRpbGVfYnVmZmVyLCB0aWxlX2J1ZmZlciwgdGlsZV9idWZmZXIpXHJcblxyXG4gIGN0eC5maWxsU3R5bGUgPSBcImJsYWNrXCI7XHJcbiAgY3R4LmZvbnQgPSBcIjEwcHQgQXJpYWxcIjtcclxuICBjdHgudGV4dEJhc2VsaW5lID0gXCJtaWRkbGVcIjtcclxuICBjdHgudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcclxuICBjdHguZmlsbFRleHQodXNlcm5hbWUsIHhfKnRpbGVfYnVmZmVyICsgKHRpbGVfYnVmZmVyIC8gMiksIHlfKnRpbGVfYnVmZmVyIC0gMik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRyYXdJbWFnZSh0aWxlLCB4LCB5KSB7XHJcbiAgY3R4LnN0cm9rZVN0eWxlID0gXCJ0cmFuc3BhcmVudFwiO1xyXG4gIGN0eC5kcmF3SW1hZ2UodGlsZXNoZWV0LFxyXG4gICAgKHRpbGUgJSAxMCkgKiB0aWxlX2J1ZmZlciwgTWF0aC5mbG9vcih0aWxlIC8gMTApICogdGlsZV9idWZmZXIsXHJcbiAgICB0aWxlX2J1ZmZlciwgdGlsZV9idWZmZXIsIHgsIHksIHRpbGVfYnVmZmVyLCB0aWxlX2J1ZmZlcik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRyYXdPdGhlcnMoKSB7XHJcbiAgZm9yIChjb25zdCB1IGluIGFsbF91c2Vycykge1xyXG4gICAgaWYgKHUgIT0gdXNlcikge1xyXG4gICAgICBjb25zdCB1Y3ggPSBhbGxfdXNlcnNbdV0uY3g7XHJcbiAgICAgIGNvbnN0IHVjeSA9IGFsbF91c2Vyc1t1XS5jeTtcclxuICAgICAgY29uc3QgeCA9IHVjeCAtIGN4O1xyXG4gICAgICBjb25zdCB5ID0gdWN5IC0gY3k7XHJcbiAgICAgIGlmICh4ID49IC1zeCAmJiB4IDw9IHN4ICYmIHkgPj0gLXN5ICYmIHkgPD0gc3kpIHtcclxuICAgICAgICAvLyBGaWxsIHRoZSBjaGFyYWN0ZXIgdGlsZVxyXG4gICAgICAgIGRyYXdQbGF5ZXIoeCtzeCwgeStzeSwgYWxsX3VzZXJzW3VdLmRpcmVjdGlvbiwgYWxsX3VzZXJzW3VdLnVzZXJuYW1lKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBkcmF3U2lkZVBhbmVsKCkge1xyXG4gIGN0eC5zdHJva2VTdHlsZSA9IFwidHJhbnNwYXJlbnRcIjtcclxuICBjdHguZHJhd0ltYWdlKG9wdGlvbnNoZWV0LCAwLCAwLCA2MCwgNDUwLCBjYW52YXMud2lkdGggLSA2MCwgMCwgNjAsIDQ1MCk7XHJcbn1cclxuIiwiLy8gZ2FtZS5qc1xyXG5cclxuLy8gaW1wb3J0ICdAYmFiZWwvcG9seWZpbGwnO1xyXG5pbXBvcnQge2NhbnZhcywgZHJhd30gZnJvbSAnLi9kcmF3JztcclxuXHJcbi8qIEluaXRpYWxpemluZyAqL1xyXG5jb25zdCBzb2NrZXQgPSBpby5jb25uZWN0KCcvLycgKyBkb2N1bWVudC5kb21haW4gKyAnOicgKyBsb2NhdGlvbi5wb3J0KTtcclxuXHJcbmV4cG9ydCBsZXQgdXNlciA9IFwiXCI7XHJcbmV4cG9ydCBsZXQgYWxsX3VzZXJzID0ge307XHJcblxyXG4vLyBjaGFyYWN0ZXIgc3RhcnQgKDAsMClcclxuZXhwb3J0IGxldCBjeCA9IDA7XHJcbmV4cG9ydCBsZXQgY3kgPSAwO1xyXG5leHBvcnQgbGV0IGRpciA9IDA7XHJcblxyXG5leHBvcnQgbGV0IHN4ID0gMDtcclxuZXhwb3J0IGxldCBzeSA9IDA7XHJcblxyXG4vKiBNQVAgT1BUSU9OUyAqL1xyXG5leHBvcnQgbGV0IG1hcCA9IFtdO1xyXG5leHBvcnQgbGV0IGVudGl0aWVzID0gW107XHJcbmV4cG9ydCBsZXQgYWN0aW9uX2RhdGEgPSB7fTtcclxuZXhwb3J0IGxldCB0aWxlX2J1ZmZlciA9IDA7IC8vIFRpbGUgQnVmZmVyOiBIb3cgbGFyZ2UgdGlsZXMgYXJlXHJcblxyXG5mdW5jdGlvbiBkZXRlcm1pbmVDbGljayhjbGlja194LCBjbGlja195KSB7XHJcbiAgbGV0IGNhbnZhc193aWR0aCA9IGNhbnZhcy53aWR0aCAtIDYwO1xyXG4gIGxldCBjYW52YXNfaGVpZ2h0ID0gY2FudmFzLmhlaWdodCAtIDIwO1xyXG4gIGlmIChjbGlja194ID4gY2FudmFzX3dpZHRoIHx8IGNsaWNrX3kgPiBjYW52YXNfaGVpZ2h0KSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBjb25zdCBtaWRfb2Zmc2V0ID0gMTU7XHJcbiAgY29uc3QgbWlkX3dpZHRoID0gTWF0aC5mbG9vcihjYW52YXNfd2lkdGggLyAyKTtcclxuICBjb25zdCBtaWRfaGVpZ2h0ID0gTWF0aC5mbG9vcihjYW52YXNfaGVpZ2h0IC8gMik7XHJcbiAgY29uc3QgbWlkX2xvdyA9IG1pZF93aWR0aCAtIG1pZF9vZmZzZXQ7XHJcbiAgY29uc3QgbWlkX2hpZ2ggPSBtaWRfd2lkdGggKyBtaWRfb2Zmc2V0O1xyXG5cclxuICAvLyBDbGljayBvbiBtaWRkbGUgc3F1YXJlICh3aGVyZSBwbGF5ZXIgaXMgc3RhbmRpbmcpXHJcbiAgaWYgKHBvbHlnb25fY2xpY2tfdGVzdCg0LFxyXG4gICAgW21pZF9sb3csIG1pZF9oaWdoLCBtaWRfaGlnaCwgbWlkX2xvd10sIC8vIHggdmFsdWVzXHJcbiAgICBbbWlkX2xvdywgbWlkX2xvdywgbWlkX2hpZ2gsIG1pZF9oaWdoXSwgLy8geSB2YWx1ZXNcclxuICAgIGNsaWNrX3gsIGNsaWNrX3kpKSB7XHJcbiAgICBzZW5kQWN0aW9uKHsna2V5Q29kZSc6IDMyLCAncHJldmVudERlZmF1bHQnOiBmdW5jdGlvbigpe319KTsgLy8gU3BhY2ViYXJcclxuICB9XHJcblxyXG4gIC8vIENsaWNrIG9uIHNxdWFyZSBkaXJlY3RseSBhYm92ZSBwbGF5ZXIgbG9jYXRpb24uXHJcbiAgZWxzZSBpZiAocG9seWdvbl9jbGlja190ZXN0KDQsXHJcbiAgICBbbWlkX2xvdywgbWlkX2hpZ2gsIG1pZF9oaWdoLCBtaWRfbG93XSwgLy8geCB2YWx1ZXNcclxuICAgIFttaWRfbG93IC0gdGlsZV9idWZmZXIsIG1pZF9sb3cgLSB0aWxlX2J1ZmZlciwgbWlkX2xvdywgbWlkX2xvd10sIC8vIHkgdmFsdWVzXHJcbiAgICBjbGlja194LCBjbGlja195KSkge1xyXG4gICAgaWYgKGRpciA9PSAxICYmIGNvbnRhaW5zT2JqZWN0KGN4LCBjeS0xKSkge1xyXG4gICAgICBzZW5kQWN0aW9uKHsna2V5Q29kZSc6IDY5LCAncHJldmVudERlZmF1bHQnOiBmdW5jdGlvbigpe319KTsgLy8gRVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHNlbmRBY3Rpb24oeydrZXlDb2RlJzogMzgsICdwcmV2ZW50RGVmYXVsdCc6IGZ1bmN0aW9uKCl7fX0pOyAvLyBVcFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gQ2xpY2sgb24gc3F1YXJlIGRpcmVjdGx5IGJlbG93IHBsYXllciBsb2NhdGlvbi5cclxuICBlbHNlIGlmIChwb2x5Z29uX2NsaWNrX3Rlc3QoNCxcclxuICAgIFttaWRfbG93LCBtaWRfbG93LCBtaWRfaGlnaCwgbWlkX2hpZ2hdLCAvLyB4IHZhbHVlc1xyXG4gICAgW21pZF9oaWdoLCBtaWRfaGlnaCArIHRpbGVfYnVmZmVyLCBtaWRfaGlnaCArIHRpbGVfYnVmZmVyLCBtaWRfaGlnaF0sIC8vIHkgdmFsdWVzXHJcbiAgICBjbGlja194LCBjbGlja195KSkge1xyXG4gICAgaWYgKGRpciA9PSAwICYmIGNvbnRhaW5zT2JqZWN0KGN4LCBjeSsxKSkge1xyXG4gICAgICBzZW5kQWN0aW9uKHsna2V5Q29kZSc6IDY5LCAncHJldmVudERlZmF1bHQnOiBmdW5jdGlvbigpe319KTsgLy8gRVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHNlbmRBY3Rpb24oeydrZXlDb2RlJzogNDAsICdwcmV2ZW50RGVmYXVsdCc6IGZ1bmN0aW9uKCl7fX0pOyAvLyBVcFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gQ2xpY2sgb24gc3F1YXJlIGRpcmVjdGx5IGxlZnQgcGxheWVyIGxvY2F0aW9uLlxyXG4gIGVsc2UgaWYgKHBvbHlnb25fY2xpY2tfdGVzdCg0LFxyXG4gICAgW21pZF9sb3cgLSB0aWxlX2J1ZmZlciwgbWlkX2xvdywgbWlkX2xvdywgbWlkX2xvdyAtIHRpbGVfYnVmZmVyXSwgLy8geCB2YWx1ZXNcclxuICAgIFttaWRfbG93LCBtaWRfbG93LCBtaWRfaGlnaCwgbWlkX2hpZ2hdLCAvLyB5IHZhbHVlc1xyXG4gICAgY2xpY2tfeCwgY2xpY2tfeSkpIHtcclxuICAgIGlmIChkaXIgPT0gMyAmJiBjb250YWluc09iamVjdChjeC0xLCBjeSkpIHtcclxuICAgICAgc2VuZEFjdGlvbih7J2tleUNvZGUnOiA2OSwgJ3ByZXZlbnREZWZhdWx0JzogZnVuY3Rpb24oKXt9fSk7IC8vIEVcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBzZW5kQWN0aW9uKHsna2V5Q29kZSc6IDM3LCAncHJldmVudERlZmF1bHQnOiBmdW5jdGlvbigpe319KTsgLy8gVXBcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIENsaWNrIG9uIHNxdWFyZSBkaXJlY3RseSByaWdodCBwbGF5ZXIgbG9jYXRpb24uXHJcbiAgZWxzZSBpZiAocG9seWdvbl9jbGlja190ZXN0KDQsXHJcbiAgICBbbWlkX2hpZ2gsIG1pZF9oaWdoICsgdGlsZV9idWZmZXIsIG1pZF9oaWdoICsgdGlsZV9idWZmZXIsIG1pZF9oaWdoXSwgLy8geCB2YWx1ZXNcclxuICAgIFttaWRfbG93LCBtaWRfbG93LCBtaWRfaGlnaCwgbWlkX2hpZ2hdLCAvLyB5IHZhbHVlc1xyXG4gICAgY2xpY2tfeCwgY2xpY2tfeSkpIHtcclxuICAgIGlmIChkaXIgPT0gMiAmJiBjb250YWluc09iamVjdChjeCsxLCBjeSkpIHtcclxuICAgICAgc2VuZEFjdGlvbih7J2tleUNvZGUnOiA2OSwgJ3ByZXZlbnREZWZhdWx0JzogZnVuY3Rpb24oKXt9fSk7IC8vIEVcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBzZW5kQWN0aW9uKHsna2V5Q29kZSc6IDM5LCAncHJldmVudERlZmF1bHQnOiBmdW5jdGlvbigpe319KTsgLy8gVXBcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGVsc2UgaWYgKHBvbHlnb25fY2xpY2tfdGVzdCgzLFxyXG4gICAgWzAsIG1pZF93aWR0aCwgY2FudmFzX3dpZHRoXSwgWzAsIG1pZF9oZWlnaHQsIDBdLFxyXG4gICAgY2xpY2tfeCwgY2xpY2tfeSkpIHtcclxuICAgIHNlbmRBY3Rpb24oeydrZXlDb2RlJzogMzgsICdwcmV2ZW50RGVmYXVsdCc6IGZ1bmN0aW9uKCl7fX0pOyAvLyBVcFxyXG4gIH1cclxuICBlbHNlIGlmIChwb2x5Z29uX2NsaWNrX3Rlc3QoMyxcclxuICAgIFswLCBtaWRfd2lkdGgsIGNhbnZhc193aWR0aF0sIFtjYW52YXNfaGVpZ2h0LCBtaWRfaGVpZ2h0LCBjYW52YXNfaGVpZ2h0XSxcclxuICAgIGNsaWNrX3gsIGNsaWNrX3kpKSB7XHJcbiAgICBzZW5kQWN0aW9uKHsna2V5Q29kZSc6IDQwLCAncHJldmVudERlZmF1bHQnOiBmdW5jdGlvbigpe319KTsgLy8gRG93blxyXG4gIH1cclxuICBlbHNlIGlmIChwb2x5Z29uX2NsaWNrX3Rlc3QoMyxcclxuICAgIFswLCBtaWRfd2lkdGgsIDBdLCBbMCwgbWlkX2hlaWdodCwgY2FudmFzX2hlaWdodF0sXHJcbiAgICBjbGlja194LCBjbGlja195KSkge1xyXG4gICAgc2VuZEFjdGlvbih7J2tleUNvZGUnOiAzNywgJ3ByZXZlbnREZWZhdWx0JzogZnVuY3Rpb24oKXt9fSk7IC8vIExlZnRcclxuICB9XHJcbiAgZWxzZSBpZiAocG9seWdvbl9jbGlja190ZXN0KDMsXHJcbiAgICBbY2FudmFzX3dpZHRoLCBtaWRfd2lkdGgsIGNhbnZhc193aWR0aF0sIFswLCBtaWRfaGVpZ2h0LCBjYW52YXNfaGVpZ2h0XSxcclxuICAgIGNsaWNrX3gsIGNsaWNrX3kpKSB7XHJcbiAgICBzZW5kQWN0aW9uKHsna2V5Q29kZSc6IDM5LCAncHJldmVudERlZmF1bHQnOiBmdW5jdGlvbigpe319KTsgLy8gUmlnaHRcclxuICB9XHJcbn1cclxuXHJcbi8vIHBvbHlnb25fY2xpY2tfdGVzdCBieSBXbS4gUmFuZG9scGggRnJhbmtsaW5cclxuLy8gaW50IGxpc3QoaW50KSBsaXN0KGludCkgaW50IGludCAtPiBib29sXHJcbi8vIENvbnN1bWVzIHRoZSBudW1iZXIgb2YgdmVydGljZXMsIGFsb25nIHdpdGggZWFjaCB2ZXJ0ZXggY29vcmRpbmF0ZSxcclxuLy8gYXMgYSBsaXN0IG9mIHggY29vcmRpbmF0ZXMgYW5kIGEgc2Vjb25kIGxpc3Qgb2YgeSBjb29yZGluYXRlcy5cclxuLy8gVGVzdHMgYWdhaW5zdCBjbGlja2VkIGNvb3JkaW5hdGVzIHRvIGRldGVybWluZSB3aGV0aGVyIHRoZVxyXG4vLyBjbGljayB3YXMgd2l0aGluIHRoZSBwb2x5Z29uIGZvcm1lZCBieSBzYWlkIHZlcnRpY2VzLlxyXG5mdW5jdGlvbiBwb2x5Z29uX2NsaWNrX3Rlc3QoIG52ZXJ0LCB2ZXJ0eCwgdmVydHksIHRlc3R4LCB0ZXN0eSApIHtcclxuICAgIGxldCBpLCBqLCBjID0gZmFsc2U7XHJcbiAgICBmb3IoIGkgPSAwLCBqID0gbnZlcnQtMTsgaSA8IG52ZXJ0OyBqID0gaSsrICkge1xyXG4gICAgICAgIGlmKCAoICggdmVydHlbaV0gPiB0ZXN0eSApICE9ICggdmVydHlbal0gPiB0ZXN0eSApICkgJiZcclxuICAgICAgICAgICAgKCB0ZXN0eCA8ICggdmVydHhbal0gLSB2ZXJ0eFtpXSApICogKCB0ZXN0eSAtIHZlcnR5W2ldICkgLyAoIHZlcnR5W2pdIC0gdmVydHlbaV0gKSArIHZlcnR4W2ldICkgKSB7XHJcbiAgICAgICAgICAgICAgICBjID0gIWM7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldENsaWNrQ29vcmRzKGUpIHtcclxuICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgY29uc3QgY2xpY2tfeCA9IGUub2Zmc2V0WDtcclxuICBjb25zdCBjbGlja195ID0gZS5vZmZzZXRZO1xyXG4gIGRldGVybWluZUNsaWNrKGNsaWNrX3gsIGNsaWNrX3kpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRUb3VjaENvb3JkcyhlKSB7XHJcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIGNvbnN0IGNsaWNrX3ggPSBlLnRvdWNoZXNbMF0uY2xpZW50WCAtIGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xyXG4gIGNvbnN0IGNsaWNrX3kgPSBlLnRvdWNoZXNbMF0uY2xpZW50WSAtIGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XHJcbiAgZGV0ZXJtaW5lQ2xpY2soY2xpY2tfeCwgY2xpY2tfeSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBsaXN0ZW5lcigpIHtcclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgc2VuZEFjdGlvbik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjbGlja0xpc3RlbmVyKCkge1xyXG4gIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBnZXRDbGlja0Nvb3Jkcyk7XHJcbiAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBnZXRUb3VjaENvb3Jkcyk7XHJcbiAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpfSk7XHJcbn1cclxuXHJcbi8vIENoZWNrIGlmIHRoZSB0aWxlIGF0ICh4XywgeV8pIGhhcyBhbiBvYmplY3QuXHJcbmZ1bmN0aW9uIGNvbnRhaW5zT2JqZWN0KHhfLCB5Xykge1xyXG4gIGlmIChBcnJheS5pc0FycmF5KG1hcFt5X11beF9dKSkge1xyXG4gICAgaWYgKGVudGl0aWVzW21hcFt5X11beF9dWzFdXS50eXBlID09IFwib2JqZWN0XCIpIHtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiBmYWxzZTtcclxufVxyXG5cclxuLyogTU9WRU1FTlQgKi9cclxuZnVuY3Rpb24gc2VuZEFjdGlvbihlKSB7XHJcbiAgaWYgKCFbXHJcbiAgICAzMiwgMzcsIDM4LCAzOSwgNDAsIDY1LCA2OCwgNjksIDgzLCA4N1xyXG4gIF0uaW5jbHVkZXMoZS5rZXlDb2RlKSkgcmV0dXJuO1xyXG4gIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgaWYgKGUua2V5Q29kZSA9PSAzMikgeyAvLyBTcGFjZWJhclxyXG4gICAgY29uc29sZS5sb2coXCJFdmVudHVhbGx5IHdlIHdpbGwgaW1wbGVtZW50IHRoZSBzcGFjZWJhciBmb3IgaW50ZXJhY3RpbmdcIlxyXG4gICAgICArIFwiIHdpdGggaXRlbXMgYmVsb3cgeW91ciBjaGFyYWN0ZXIuXCIpO1xyXG4gIH1cclxuXHJcbiAgc29ja2V0LmVtaXQoJ2pzb24nLCBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAndXNlcm5hbWUnOiB1c2VyLFxyXG4gICAgJ2FjdGlvbic6IGUua2V5Q29kZSxcclxuICB9KSlcclxufVxyXG5cclxuZnVuY3Rpb24gZG9Nb3ZlKG1vdmVtZW50KSB7XHJcbiAgY3ggPSBtb3ZlbWVudC5jeDtcclxuICBjeSA9IG1vdmVtZW50LmN5O1xyXG4gIGRpciA9IG1vdmVtZW50LmRpcmVjdGlvbjtcclxufVxyXG5cclxubGV0IGxhc3Q7XHJcbihmdW5jdGlvbiAoKSB7XHJcbiAgZnVuY3Rpb24gbWFpbiggdGltZXN0YW1wICkge1xyXG4gICAgaWYgKCFsYXN0KSB7XHJcbiAgICAgIGxhc3QgPSB0aW1lc3RhbXBcclxuICAgICAgZHJhdygpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGlmICh0aW1lc3RhbXAgLSBsYXN0ID4gMTAwKSB7XHJcbiAgICAgICAgZHJhdygpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoIG1haW4gKTtcclxuICB9XHJcblxyXG4gIHNvY2tldC5vbignY29ubmVjdCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYXV0aGVudGljYXRpb25cIik7XHJcbiAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBzb2NrZXQuZW1pdCgnYXV0aGVudGljYXRpb24nLCBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgJ3VzZXJuYW1lJzogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJuYW1lJykudmFsdWVcclxuICAgICAgfSkpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIHNvY2tldC5vbignYXV0aGVudGljYXRlZCcsIGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xyXG4gICAgY29uc3QgbXNnID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtZXNzYWdlXCIpO1xyXG4gICAgaWYgKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICBtc2cuaW5uZXJIVE1MID0gXCJBdXRoZW50aWNhdGVkIHN1Y2Nlc3NmdWxseSFcIjtcclxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICBtc2cuaW5uZXJIVE1MID0gXCJMb2FkaW5nIGRhdGEuLi5cIjtcclxuICAgICAgICBzb2NrZXQuZW1pdCgncmV0cmlldmVfaW5pdF9kYXRhJywgSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgJ3VzZXJuYW1lJzogZGF0YS51c2VybmFtZVxyXG4gICAgICAgIH0pKTtcclxuICAgICAgfSwgNjAwKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBtc2cuaW5uZXJIVE1MID0gXCJBdXRoZW50aWNhdGlvbiBmYWlsZWQuIFBsZWFzZSB0cnkgYWdhaW4uXCI7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIGZ1bmN0aW9uIGxvYWRNYXAoYXR0ZW1wdHMpIHtcclxuICAgIGNvbnN0IGxvYWRlZCA9IGNoZWNrRGF0YUFjcXVpcmVkKCk7XHJcbiAgICBjb25zdCBtc2cgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1lc3NhZ2VcIik7XHJcbiAgICBpZiAobG9hZGVkKSB7XHJcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2F1dGgnKS5jbGFzc05hbWUgPSBcImhpZGVcIjtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtYWluJykuY2xhc3NOYW1lID0gXCJzaG93XCI7XHJcbiAgICAgICAgbXNnLmlubmVySFRNTCA9IFwiV2VsY29tZSB0byB0aGUgd29ybGQuXCI7XHJcbiAgICAgICAgbWFpbigpOyAvLyBTdGFydCB0aGUgY3ljbGVcclxuICAgICAgICBsaXN0ZW5lcigpOyAvLyBCZWdpbiBtb3ZlbWVudCBsaXN0ZW5lcnNcclxuICAgICAgICBjbGlja0xpc3RlbmVyKCk7XHJcbiAgICAgIH0sIDEwMDApO1xyXG4gICAgICByZXR1cm47IC8vIERvIG5vdCBleGVjdXRlIHRoZSByZXN0IG9mIHRoZSBmdW5jdGlvbi5cclxuICAgIH1cclxuICAgIGF0dGVtcHRzKys7XHJcbiAgICBpZiAoYXR0ZW1wdHMgPCAxMCkge1xyXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgbG9hZE1hcChhdHRlbXB0cyk7XHJcbiAgICAgIH0sIDEwMCk7XHJcbiAgICAgIHJldHVybjsgLy8gRG8gbm90IGV4ZWN1dGUgdGhlIHJlc3Qgb2YgdGhlIGZ1bmN0aW9uLlxyXG4gICAgfVxyXG5cclxuICAgIG1zZy5pbm5lckhUTUwgPSBcIkZhaWxlZCB0byBnZXQgZGF0YSBmcm9tIHRoZSBzZXJ2ZXIuXCI7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjaGVja0RhdGFBY3F1aXJlZCgpIHtcclxuICAgIGNvbnN0IGdvdF91c2VyID0gdXNlciAhPT0gXCJcIjtcclxuICAgIGNvbnN0IGdvdF9tYXAgPSBtYXAgIT09IHVuZGVmaW5lZCB8fCBtYXAubGVuZ3RoID4gMDtcclxuICAgIHJldHVybiBnb3RfdXNlciAmJiBnb3RfbWFwO1xyXG4gIH1cclxuXHJcbiAgLy8gUmVjaWV2ZXMgYW5kIHBvcHVsYXRlcyBpbml0aWFsIGRhdGEuXHJcbiAgc29ja2V0Lm9uKCdpbml0X2RhdGEnLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgZGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7XHJcbiAgICBbdXNlciwgW2N4LCBjeSwgZGlyXSwgbWFwLCBlbnRpdGllcywgW3RpbGVfYnVmZmVyLCBzeCwgc3ldXSA9IGRhdGE7XHJcbiAgICBpZiAoY2FudmFzLndpZHRoIDwgNDUwKSB7XHJcbiAgICAgIHN4ID0gNDtcclxuICAgICAgc3kgPSA0O1xyXG4gICAgfVxyXG4gICAgbG9hZE1hcCgwKTtcclxuICB9KTtcclxuXHJcbiAgc29ja2V0Lm9uKCdvYmplY3RfYWN0aW9uJywgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgIGFjdGlvbl9kYXRhID0gSlNPTi5wYXJzZShkYXRhKTtcclxuICB9KTtcclxuXHJcbiAgLy8gUmVjaWV2ZXMgYW5kIHBvcHVsYXRlcyBtYXAgZGF0YS5cclxuICBzb2NrZXQub24oJ21hcF9kYXRhJywgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgIG1hcCA9IEpTT04ucGFyc2UoZGF0YSk7XHJcbiAgfSk7XHJcblxyXG4gIHNvY2tldC5vbignZW50aXR5X2RhdGEnLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgZW50aXRpZXMgPSBKU09OLnBhcnNlKGRhdGEpO1xyXG4gIH0pO1xyXG5cclxuICAvLyBNb3ZlcyB0aGUgbG9jYWwgcGxheWVyXHJcbiAgc29ja2V0Lm9uKCdtb3ZlbWVudF9zZWxmJywgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xyXG4gICAgaWYgKHVzZXIgPT0gZGF0YS51c2VybmFtZSlcclxuICAgICAgZG9Nb3ZlKGRhdGEpO1xyXG4gIH0pO1xyXG5cclxuICAvLyBVcGRhdGVzIGFsbCBwbGF5ZXJzXHJcbiAgc29ja2V0Lm9uKCd1cGRhdGVfYWxsJywgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgIGFsbF91c2VycyA9IEpTT04ucGFyc2UoZGF0YSk7XHJcbiAgfSk7XHJcblxyXG4gIHNvY2tldC5vbignZmFpbHVyZScsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICBjb25zb2xlLmxvZygnVW5zeW5jaHJvbml6ZWQuJyk7XHJcbiAgfSk7XHJcbn0pKCk7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n")}]);