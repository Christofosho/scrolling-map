!function(Q){var F={};function B(U){if(F[U])return F[U].exports;var s=F[U]={i:U,l:!1,exports:{}};return Q[U].call(s.exports,s,s.exports,B),s.l=!0,s.exports}B.m=Q,B.c=F,B.d=function(Q,F,U){B.o(Q,F)||Object.defineProperty(Q,F,{enumerable:!0,get:U})},B.r=function(Q){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},B.t=function(Q,F){if(1&F&&(Q=B(Q)),8&F)return Q;if(4&F&&"object"==typeof Q&&Q&&Q.__esModule)return Q;var U=Object.create(null);if(B.r(U),Object.defineProperty(U,"default",{enumerable:!0,value:Q}),2&F&&"string"!=typeof Q)for(var s in Q)B.d(U,s,function(F){return Q[F]}.bind(null,s));return U},B.n=function(Q){var F=Q&&Q.__esModule?function(){return Q.default}:function(){return Q};return B.d(F,"a",F),F},B.o=function(Q,F){return Object.prototype.hasOwnProperty.call(Q,F)},B.p="",B(B.s=0)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./js/draw.js\n// draw.js\n\nconst canvas = document.getElementById(\'canvas\');\ncanvas.addEventListener("contextmenu", function (e) {\n  e.preventDefault();\n}, false);\nconst ctx = canvas.getContext(\'2d\'); // Rows of 10 30x30 tiles.\n\nconst tilesheet = new Image();\ntilesheet.src = "static/tilesheet.png";\nconst charsheet = new Image();\ncharsheet.src = "static/charsheet.png";\nconst optionsheet = new Image();\noptionsheet.src = "static/optionsheet.png"; // Small windows means smaller canvas.\n\nif (window.innerWidth < 500) {\n  canvas.width = 330;\n  canvas.height = 290;\n}\n/* DRAWING */\n\n\nfunction draw() {\n  const canvas_width = canvas.width - 60;\n  const canvas_height = canvas.height - 20;\n  ctx.clearRect(0, 0, canvas_width, canvas_height);\n\n  for (let x = 0; x < canvas_width; x += tile_buffer) {\n    const curr_x = x / tile_buffer + (cx - sx);\n\n    for (let y = 0; y < canvas_height; y += tile_buffer) {\n      const tile = map[y / tile_buffer + (cy - sy)][curr_x];\n\n      if (Array.isArray(tile)) {\n        for (const def in tile) {\n          drawTile(tile[def], x, y);\n        }\n      } else {\n        drawTile(tile, x, y);\n      }\n    }\n  }\n\n  drawSidePanel();\n  drawOthers(); // Fill the local character tile\n\n  if (charsheet.complete) {\n    drawPlayer(sx, sy, dir, user);\n  } else {\n    charsheet.addEventListener(\'load\', drawPlayer);\n  } // Fill the position\n\n\n  ctx.fillStyle = "white";\n  ctx.strokeStyle = "black";\n  ctx.fillRect(0, canvas_height, canvas_width, 20);\n  ctx.strokeText("(" + cx + ", " + cy + ")", canvas_width - 40, canvas_height + 10);\n}\n\nfunction drawTile(tile, x, y) {\n  ctx.beginPath();\n\n  if (tilesheet.complete) {\n    drawImage(tile, x, y);\n  } else {\n    tilesheet.load = drawImage.bind(tile, x, y);\n  }\n\n  ctx.moveTo(x, y);\n  ctx.lineTo(x + tile_buffer, y);\n  ctx.moveTo(x, y);\n  ctx.lineTo(x, y + tile_buffer);\n  ctx.stroke();\n  ctx.closePath();\n}\n\nfunction drawPlayer(x_, y_, direction, username) {\n  ctx.strokeStyle = "transparent";\n  ctx.drawImage(charsheet, direction * tile_buffer, 0, tile_buffer, tile_buffer, x_ * tile_buffer, y_ * tile_buffer, tile_buffer, tile_buffer);\n  ctx.fillStyle = "black";\n  ctx.font = "10pt Arial";\n  ctx.textBaseline = "middle";\n  ctx.textAlign = "center";\n  ctx.fillText(username, x_ * tile_buffer + tile_buffer / 2, y_ * tile_buffer - 2);\n}\n\nfunction drawImage(tile, x, y) {\n  ctx.strokeStyle = "transparent";\n  ctx.drawImage(tilesheet, tile % 10 * tile_buffer, Math.floor(tile / 10) * tile_buffer, tile_buffer, tile_buffer, x, y, tile_buffer, tile_buffer);\n}\n\nfunction drawOthers() {\n  for (const u in all_users) {\n    if (u != user) {\n      const ucx = all_users[u].cx;\n      const ucy = all_users[u].cy;\n      const x = ucx - cx;\n      const y = ucy - cy;\n\n      if (x >= -sx && x <= sx && y >= -sy && y <= sy) {\n        // Fill the character tile\n        drawPlayer(x + sx, y + sy, all_users[u].direction, all_users[u].username);\n      }\n    }\n  }\n}\n\nfunction drawSidePanel() {\n  ctx.strokeStyle = "transparent";\n  ctx.drawImage(optionsheet, 0, 0, 60, 450, canvas.width - 60, 0, 60, 450);\n}\n// CONCATENATED MODULE: ./js/game.js\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "user", function() { return user; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "all_users", function() { return all_users; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cx", function() { return cx; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cy", function() { return cy; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "dir", function() { return dir; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sx", function() { return sx; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sy", function() { return sy; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "map", function() { return map; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "action_data", function() { return action_data; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "tile_buffer", function() { return tile_buffer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "listener", function() { return listener; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "clickListener", function() { return clickListener; });\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n// game.js\n// import \'@babel/polyfill\';\n\n/* Initializing */\n\nconst socket = io.connect(\'//\' + document.domain + \':\' + location.port);\nlet user = "";\nlet all_users = {}; // character start (0,0)\n\nlet cx = 0;\nlet cy = 0;\nlet dir = 0;\nlet sx = 0;\nlet sy = 0;\n/* MAP OPTIONS */\n\nlet map = [];\nlet action_data = {};\nlet tile_buffer = 0; // Tile Buffer: How large tiles are\n\nfunction determineClick(click_x, click_y) {\n  const mid_offset = 15;\n  const mid_width = canvas.width / 2;\n  const mid_height = canvas.height / 2;\n  const mid_low = mid_width - mid_offset;\n  const mid_high = mid_width - mid_offset;\n\n  if (polygon_click_test(4, [mid_low, mid_high, mid_high, mid_low], // x values\n  [mid_low, mid_low, mid_high, mid_high], // y values\n  click_x, click_y)) {\n    sendAction({\n      \'keyCode\': 32,\n      \'preventDefault\': function preventDefault() {}\n    }); // Spacebar\n  } else if (polygon_click_test(3, [0, mid_width, canvas.width], [0, mid_height, 0], click_x, click_y)) {\n    sendAction({\n      \'keyCode\': 38,\n      \'preventDefault\': function preventDefault() {}\n    }); // Up\n  } else if (polygon_click_test(3, [0, mid_width, canvas.width], [canvas.height, mid_height, canvas.height], click_x, click_y)) {\n    sendAction({\n      \'keyCode\': 40,\n      \'preventDefault\': function preventDefault() {}\n    }); // Down\n  } else if (polygon_click_test(3, [0, mid_width, 0], [0, mid_height, canvas.height], click_x, click_y)) {\n    sendAction({\n      \'keyCode\': 37,\n      \'preventDefault\': function preventDefault() {}\n    }); // Left\n  } else if (polygon_click_test(3, [canvas.width, mid_width, canvas.width], [0, mid_height, canvas.height], click_x, click_y)) {\n    sendAction({\n      \'keyCode\': 39,\n      \'preventDefault\': function preventDefault() {}\n    }); // Right\n  }\n} // polygon_click_test by Wm. Randolph Franklin\n// int list(int) list(int) int int -> bool\n// Consumes the number of vertices, along with each vertex coordinate,\n// as a list of x coordinates and a second list of y coordinates.\n// Tests against clicked coordinates to determine whether the\n// click was within the polygon formed by said vertices.\n\n\nfunction polygon_click_test(nvert, vertx, verty, testx, testy) {\n  let i,\n      j,\n      c = false;\n\n  for (i = 0, j = nvert - 1; i < nvert; j = i++) {\n    if (verty[i] > testy != verty[j] > testy && testx < (vertx[j] - vertx[i]) * (testy - verty[i]) / (verty[j] - verty[i]) + vertx[i]) {\n      c = !c;\n    }\n  }\n\n  return c;\n}\n\nfunction getClickCoords(e) {\n  e.preventDefault();\n  const click_x = e.offsetX;\n  const click_y = e.offsetY;\n  determineClick(click_x, click_y);\n}\n\nfunction getTouchCoords(e) {\n  e.preventDefault();\n  const click_x = e.touches[0].clientX - canvas.getBoundingClientRect().left;\n  const click_y = e.touches[0].clientY - canvas.getBoundingClientRect().top;\n  determineClick(click_x, click_y);\n}\n\nfunction listener() {\n  document.addEventListener(\'keydown\', sendAction);\n}\nfunction clickListener() {\n  canvas.addEventListener(\'mousedown\', getClickCoords);\n  canvas.addEventListener(\'touchstart\', getTouchCoords);\n  canvas.addEventListener(\'touchend\', function (e) {\n    e.preventDefault();\n  });\n}\n/* MOVEMENT */\n\nfunction sendAction(e) {\n  if (![32, 37, 38, 39, 40, 65, 68, 69, 83, 87].includes(e.keyCode)) return;\n  e.preventDefault();\n\n  if (e.keyCode == 32) {\n    // Spacebar\n    console.log("Eventually we will implement the spacebar for interacting" + " with items below your character.");\n  }\n\n  socket.emit(\'json\', JSON.stringify({\n    \'username\': user,\n    \'action\': e.keyCode\n  }));\n}\n\nfunction doMove(movement) {\n  cx = movement.cx;\n  cy = movement.cy;\n  dir = movement.direction;\n}\n\nlet last;\n\n(function () {\n  function main(timestamp) {\n    if (!last) {\n      last = timestamp;\n      draw();\n    } else {\n      if (timestamp - last > 100) {\n        draw();\n      }\n    }\n\n    requestAnimationFrame(main);\n  }\n\n  socket.on(\'connect\', function () {\n    const form = document.getElementById("authentication");\n    form.addEventListener(\'submit\', function (e) {\n      e.preventDefault();\n      socket.emit(\'authentication\', JSON.stringify({\n        \'username\': document.getElementById(\'username\').value\n      }));\n    });\n  });\n  socket.on(\'authenticated\', function (data) {\n    data = JSON.parse(data);\n    const msg = document.getElementById("message");\n\n    if (data.success) {\n      msg.innerHTML = "Authenticated successfully!";\n      setTimeout(function () {\n        msg.innerHTML = "Loading data...";\n        socket.emit(\'retrieve_init_data\', JSON.stringify({\n          \'username\': data.username\n        }));\n      }, 600);\n    } else {\n      msg.innerHTML = "Authentication failed. Please try again.";\n    }\n  });\n\n  function loadMap(attempts) {\n    const loaded = checkDataAcquired();\n    const msg = document.getElementById("message");\n\n    if (loaded) {\n      setTimeout(function () {\n        document.getElementById(\'auth\').className = "hide";\n        document.querySelector(\'main\').className = "show";\n        msg.innerHTML = "Welcome to the world.";\n        main(); // Start the cycle\n\n        listener(); // Begin movement listeners\n\n        clickListener();\n      }, 1000);\n      return; // Do not execute the rest of the function.\n    }\n\n    attempts++;\n\n    if (attempts < 10) {\n      setTimeout(function () {\n        loadMap(attempts);\n      }, 100);\n      return; // Do not execute the rest of the function.\n    }\n\n    msg.innerHTML = "Failed to get data from the server.";\n  }\n\n  function checkDataAcquired() {\n    const got_user = user !== "";\n    const got_map = map !== undefined || map.length > 0;\n    return got_user && got_map;\n  } // Recieves and populates initial data.\n\n\n  socket.on(\'init_data\', function (data) {\n    data = JSON.parse(data);\n    var _data = data;\n\n    var _data2 = _slicedToArray(_data, 4);\n\n    user = _data2[0];\n\n    var _data2$ = _slicedToArray(_data2[1], 3);\n\n    cx = _data2$[0];\n    cy = _data2$[1];\n    dir = _data2$[2];\n    map = _data2[2];\n\n    var _data2$2 = _slicedToArray(_data2[3], 3);\n\n    tile_buffer = _data2$2[0];\n    sx = _data2$2[1];\n    sy = _data2$2[2];\n\n    if (canvas.width < 450) {\n      sx = 4;\n      sy = 4;\n    }\n\n    loadMap(0);\n  });\n  socket.on(\'object_action\', function (data) {\n    action_data = JSON.parse(data);\n  }); // Recieves and populates map data.\n\n  socket.on(\'map_data\', function (data) {\n    data = JSON.parse(data);\n    map = data;\n  }); // Moves the local player\n\n  socket.on(\'movement_self\', function (data) {\n    data = JSON.parse(data);\n    if (user == data.username) doMove(data);\n  }); // Updates all players\n\n  socket.on(\'update_all\', function (data) {\n    all_users = JSON.parse(data);\n  });\n  socket.on(\'failure\', function (data) {\n    console.log(\'Unsynchronized.\');\n  });\n})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9kcmF3LmpzP2IyM2YiLCJ3ZWJwYWNrOi8vLy4vanMvZ2FtZS5qcz9lNjU3Il0sIm5hbWVzIjpbImNhbnZhcyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInByZXZlbnREZWZhdWx0IiwiY3R4IiwiZ2V0Q29udGV4dCIsInRpbGVzaGVldCIsIkltYWdlIiwic3JjIiwiY2hhcnNoZWV0Iiwib3B0aW9uc2hlZXQiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwid2lkdGgiLCJoZWlnaHQiLCJkcmF3IiwiY2FudmFzX3dpZHRoIiwiY2FudmFzX2hlaWdodCIsImNsZWFyUmVjdCIsIngiLCJ0aWxlX2J1ZmZlciIsImN1cnJfeCIsImN4Iiwic3giLCJ5IiwidGlsZSIsIm1hcCIsImN5Iiwic3kiLCJBcnJheSIsImlzQXJyYXkiLCJkZWYiLCJkcmF3VGlsZSIsImRyYXdTaWRlUGFuZWwiLCJkcmF3T3RoZXJzIiwiY29tcGxldGUiLCJkcmF3UGxheWVyIiwiZGlyIiwidXNlciIsImZpbGxTdHlsZSIsInN0cm9rZVN0eWxlIiwiZmlsbFJlY3QiLCJzdHJva2VUZXh0IiwiYmVnaW5QYXRoIiwiZHJhd0ltYWdlIiwibG9hZCIsImJpbmQiLCJtb3ZlVG8iLCJsaW5lVG8iLCJzdHJva2UiLCJjbG9zZVBhdGgiLCJ4XyIsInlfIiwiZGlyZWN0aW9uIiwidXNlcm5hbWUiLCJmb250IiwidGV4dEJhc2VsaW5lIiwidGV4dEFsaWduIiwiZmlsbFRleHQiLCJNYXRoIiwiZmxvb3IiLCJ1IiwiYWxsX3VzZXJzIiwidWN4IiwidWN5Iiwic29ja2V0IiwiaW8iLCJjb25uZWN0IiwiZG9tYWluIiwibG9jYXRpb24iLCJwb3J0IiwiYWN0aW9uX2RhdGEiLCJkZXRlcm1pbmVDbGljayIsImNsaWNrX3giLCJjbGlja195IiwibWlkX29mZnNldCIsIm1pZF93aWR0aCIsIm1pZF9oZWlnaHQiLCJtaWRfbG93IiwibWlkX2hpZ2giLCJwb2x5Z29uX2NsaWNrX3Rlc3QiLCJzZW5kQWN0aW9uIiwibnZlcnQiLCJ2ZXJ0eCIsInZlcnR5IiwidGVzdHgiLCJ0ZXN0eSIsImkiLCJqIiwiYyIsImdldENsaWNrQ29vcmRzIiwib2Zmc2V0WCIsIm9mZnNldFkiLCJnZXRUb3VjaENvb3JkcyIsInRvdWNoZXMiLCJjbGllbnRYIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwibGVmdCIsImNsaWVudFkiLCJ0b3AiLCJsaXN0ZW5lciIsImNsaWNrTGlzdGVuZXIiLCJpbmNsdWRlcyIsImtleUNvZGUiLCJjb25zb2xlIiwibG9nIiwiZW1pdCIsIkpTT04iLCJzdHJpbmdpZnkiLCJkb01vdmUiLCJtb3ZlbWVudCIsImxhc3QiLCJtYWluIiwidGltZXN0YW1wIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwib24iLCJmb3JtIiwidmFsdWUiLCJkYXRhIiwicGFyc2UiLCJtc2ciLCJzdWNjZXNzIiwiaW5uZXJIVE1MIiwic2V0VGltZW91dCIsImxvYWRNYXAiLCJhdHRlbXB0cyIsImxvYWRlZCIsImNoZWNrRGF0YUFjcXVpcmVkIiwiY2xhc3NOYW1lIiwicXVlcnlTZWxlY3RvciIsImdvdF91c2VyIiwiZ290X21hcCIsInVuZGVmaW5lZCIsImxlbmd0aCJdLCJtYXBwaW5ncyI6Ijs7O0FBQUE7QUFFQTtBQUVPLE1BQU1BLE1BQU0sR0FBR0MsUUFBUSxDQUFDQyxjQUFULENBQXdCLFFBQXhCLENBQWY7QUFDUEYsTUFBTSxDQUFDRyxnQkFBUCxDQUF3QixhQUF4QixFQUNFLFVBQVVDLENBQVYsRUFBYTtBQUFDQSxHQUFDLENBQUNDLGNBQUY7QUFBb0IsQ0FEcEMsRUFDc0MsS0FEdEM7QUFHQSxNQUFNQyxHQUFHLEdBQUdOLE1BQU0sQ0FBQ08sVUFBUCxDQUFrQixJQUFsQixDQUFaLEMsQ0FFQTs7QUFDQSxNQUFNQyxTQUFTLEdBQUcsSUFBSUMsS0FBSixFQUFsQjtBQUNBRCxTQUFTLENBQUNFLEdBQVYsR0FBZ0Isc0JBQWhCO0FBRUEsTUFBTUMs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QUFQLENBQVUsU0FBVixFQUFxQixVQUFVRyxJQUFWLEVBQWdCO0FBQ25DZCxXQUFPLENBQUNDLEdBQVIsQ0FBWSxpQkFBWjtBQUNELEdBRkQ7QUFHRCxDQTVHRCIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gZHJhdy5qc1xyXG5cclxuaW1wb3J0IHthbGxfdXNlcnMsIGN4LCBjeSwgZGlyLCBtYXAsIHN4LCBzeSwgdGlsZV9idWZmZXIsIHVzZXJ9IGZyb20gJy4vZ2FtZS5qcyc7XHJcblxyXG5leHBvcnQgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbnZhcycpO1xyXG5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcImNvbnRleHRtZW51XCIsXHJcbiAgZnVuY3Rpb24gKGUpIHtlLnByZXZlbnREZWZhdWx0KCk7fSwgZmFsc2UpO1xyXG5cclxuY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcblxyXG4vLyBSb3dzIG9mIDEwIDMweDMwIHRpbGVzLlxyXG5jb25zdCB0aWxlc2hlZXQgPSBuZXcgSW1hZ2UoKTtcclxudGlsZXNoZWV0LnNyYyA9IFwic3RhdGljL3RpbGVzaGVldC5wbmdcIjtcclxuXHJcbmNvbnN0IGNoYXJzaGVldCA9IG5ldyBJbWFnZSgpO1xyXG5jaGFyc2hlZXQuc3JjID0gXCJzdGF0aWMvY2hhcnNoZWV0LnBuZ1wiO1xyXG5cclxuY29uc3Qgb3B0aW9uc2hlZXQgPSBuZXcgSW1hZ2UoKTtcclxub3B0aW9uc2hlZXQuc3JjID0gXCJzdGF0aWMvb3B0aW9uc2hlZXQucG5nXCI7XHJcblxyXG4vLyBTbWFsbCB3aW5kb3dzIG1lYW5zIHNtYWxsZXIgY2FudmFzLlxyXG5pZiAod2luZG93LmlubmVyV2lkdGggPCA1MDApIHtcclxuICBjYW52YXMud2lkdGggPSAzMzA7XHJcbiAgY2FudmFzLmhlaWdodCA9IDI5MDtcclxufVxyXG5cclxuLyogRFJBV0lORyAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZHJhdygpIHtcclxuICBjb25zdCBjYW52YXNfd2lkdGggPSBjYW52YXMud2lkdGggLSA2MDtcclxuICBjb25zdCBjYW52YXNfaGVpZ2h0ID0gY2FudmFzLmhlaWdodCAtIDIwO1xyXG4gIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzX3dpZHRoLCBjYW52YXNfaGVpZ2h0KTtcclxuICBmb3IgKGxldCB4ID0gMDsgeCA8IGNhbnZhc193aWR0aDsgeCArPSB0aWxlX2J1ZmZlcikge1xyXG4gICAgY29uc3QgY3Vycl94ID0geC90aWxlX2J1ZmZlcisoY3gtc3gpO1xyXG4gICAgZm9yIChsZXQgeSA9IDA7IHkgPCBjYW52YXNfaGVpZ2h0OyB5ICs9IHRpbGVfYnVmZmVyKSB7XHJcbiAgICAgIGNvbnN0IHRpbGUgPSBtYXBbeS90aWxlX2J1ZmZlcisoY3ktc3kpXVtjdXJyX3hdO1xyXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aWxlKSkge1xyXG4gICAgICAgIGZvciAoY29uc3QgZGVmIGluIHRpbGUpIHtcclxuICAgICAgICAgIGRyYXdUaWxlKHRpbGVbZGVmXSwgeCwgeSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIGRyYXdUaWxlKHRpbGUsIHgsIHkpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBkcmF3U2lkZVBhbmVsKCk7XHJcblxyXG4gIGRyYXdPdGhlcnMoKTtcclxuXHJcbiAgLy8gRmlsbCB0aGUgbG9jYWwgY2hhcmFjdGVyIHRpbGVcclxuICBpZiAoY2hhcnNoZWV0LmNvbXBsZXRlKSB7XHJcbiAgICBkcmF3UGxheWVyKHN4LCBzeSwgZGlyLCB1c2VyKTtcclxuICB9XHJcbiAgZWxzZSB7XHJcbiAgICBjaGFyc2hlZXQuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGRyYXdQbGF5ZXIpO1xyXG4gIH1cclxuXHJcbiAgLy8gRmlsbCB0aGUgcG9zaXRpb25cclxuICBjdHguZmlsbFN0eWxlID0gXCJ3aGl0ZVwiO1xyXG4gIGN0eC5zdHJva2VTdHlsZSA9IFwiYmxhY2tcIjtcclxuICBjdHguZmlsbFJlY3QoMCwgY2FudmFzX2hlaWdodCwgY2FudmFzX3dpZHRoLCAyMCk7XHJcbiAgY3R4LnN0cm9rZVRleHQoXHJcbiAgICBcIihcIiArIGN4ICsgXCIsIFwiICsgY3kgKyBcIilcIixcclxuICAgIGNhbnZhc193aWR0aCAtIDQwLCBjYW52YXNfaGVpZ2h0ICsgMTBcclxuICApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBkcmF3VGlsZSh0aWxlLCB4LCB5KSB7XHJcbiAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gIGlmICh0aWxlc2hlZXQuY29tcGxldGUpIHtcclxuICAgIGRyYXdJbWFnZSh0aWxlLCB4LCB5KTtcclxuICB9XHJcbiAgZWxzZSB7XHJcbiAgICB0aWxlc2hlZXQubG9hZCA9IGRyYXdJbWFnZS5iaW5kKHRpbGUsIHgsIHkpO1xyXG4gIH1cclxuICBjdHgubW92ZVRvKHgsIHkpO1xyXG4gIGN0eC5saW5lVG8oeCArIHRpbGVfYnVmZmVyLCB5KTtcclxuICBjdHgubW92ZVRvKHgsIHkpO1xyXG4gIGN0eC5saW5lVG8oeCwgeSArIHRpbGVfYnVmZmVyKTtcclxuICBjdHguc3Ryb2tlKCk7XHJcbiAgY3R4LmNsb3NlUGF0aCgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBkcmF3UGxheWVyKHhfLCB5XywgZGlyZWN0aW9uLCB1c2VybmFtZSkge1xyXG4gIGN0eC5zdHJva2VTdHlsZSA9IFwidHJhbnNwYXJlbnRcIjtcclxuICBjdHguZHJhd0ltYWdlKGNoYXJzaGVldCwgZGlyZWN0aW9uICogdGlsZV9idWZmZXIsIDAsXHJcbiAgICB0aWxlX2J1ZmZlciwgdGlsZV9idWZmZXIsIHhfKnRpbGVfYnVmZmVyLCB5Xyp0aWxlX2J1ZmZlciwgdGlsZV9idWZmZXIsIHRpbGVfYnVmZmVyKVxyXG5cclxuICBjdHguZmlsbFN0eWxlID0gXCJibGFja1wiO1xyXG4gIGN0eC5mb250ID0gXCIxMHB0IEFyaWFsXCI7XHJcbiAgY3R4LnRleHRCYXNlbGluZSA9IFwibWlkZGxlXCI7XHJcbiAgY3R4LnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XHJcbiAgY3R4LmZpbGxUZXh0KHVzZXJuYW1lLCB4Xyp0aWxlX2J1ZmZlciArICh0aWxlX2J1ZmZlciAvIDIpLCB5Xyp0aWxlX2J1ZmZlciAtIDIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBkcmF3SW1hZ2UodGlsZSwgeCwgeSkge1xyXG4gIGN0eC5zdHJva2VTdHlsZSA9IFwidHJhbnNwYXJlbnRcIjtcclxuICBjdHguZHJhd0ltYWdlKHRpbGVzaGVldCxcclxuICAgICh0aWxlICUgMTApICogdGlsZV9idWZmZXIsIE1hdGguZmxvb3IodGlsZSAvIDEwKSAqIHRpbGVfYnVmZmVyLFxyXG4gICAgdGlsZV9idWZmZXIsIHRpbGVfYnVmZmVyLCB4LCB5LCB0aWxlX2J1ZmZlciwgdGlsZV9idWZmZXIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBkcmF3T3RoZXJzKCkge1xyXG4gIGZvciAoY29uc3QgdSBpbiBhbGxfdXNlcnMpIHtcclxuICAgIGlmICh1ICE9IHVzZXIpIHtcclxuICAgICAgY29uc3QgdWN4ID0gYWxsX3VzZXJzW3VdLmN4O1xyXG4gICAgICBjb25zdCB1Y3kgPSBhbGxfdXNlcnNbdV0uY3k7XHJcbiAgICAgIGNvbnN0IHggPSB1Y3ggLSBjeDtcclxuICAgICAgY29uc3QgeSA9IHVjeSAtIGN5O1xyXG4gICAgICBpZiAoeCA+PSAtc3ggJiYgeCA8PSBzeCAmJiB5ID49IC1zeSAmJiB5IDw9IHN5KSB7XHJcbiAgICAgICAgLy8gRmlsbCB0aGUgY2hhcmFjdGVyIHRpbGVcclxuICAgICAgICBkcmF3UGxheWVyKHgrc3gsIHkrc3ksIGFsbF91c2Vyc1t1XS5kaXJlY3Rpb24sIGFsbF91c2Vyc1t1XS51c2VybmFtZSlcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZHJhd1NpZGVQYW5lbCgpIHtcclxuICBjdHguc3Ryb2tlU3R5bGUgPSBcInRyYW5zcGFyZW50XCI7XHJcbiAgY3R4LmRyYXdJbWFnZShvcHRpb25zaGVldCwgMCwgMCwgNjAsIDQ1MCwgY2FudmFzLndpZHRoIC0gNjAsIDAsIDYwLCA0NTApO1xyXG59XHJcbiIsIi8vIGdhbWUuanNcclxuXHJcbi8vIGltcG9ydCAnQGJhYmVsL3BvbHlmaWxsJztcclxuaW1wb3J0IHtjYW52YXMsIGRyYXd9IGZyb20gJy4vZHJhdyc7XHJcblxyXG4vKiBJbml0aWFsaXppbmcgKi9cclxuY29uc3Qgc29ja2V0ID0gaW8uY29ubmVjdCgnLy8nICsgZG9jdW1lbnQuZG9tYWluICsgJzonICsgbG9jYXRpb24ucG9ydCk7XHJcblxyXG5leHBvcnQgbGV0IHVzZXIgPSBcIlwiO1xyXG5leHBvcnQgbGV0IGFsbF91c2VycyA9IHt9O1xyXG5cclxuLy8gY2hhcmFjdGVyIHN0YXJ0ICgwLDApXHJcbmV4cG9ydCBsZXQgY3ggPSAwO1xyXG5leHBvcnQgbGV0IGN5ID0gMDtcclxuZXhwb3J0IGxldCBkaXIgPSAwO1xyXG5cclxuZXhwb3J0IGxldCBzeCA9IDA7XHJcbmV4cG9ydCBsZXQgc3kgPSAwO1xyXG5cclxuLyogTUFQIE9QVElPTlMgKi9cclxuZXhwb3J0IGxldCBtYXAgPSBbXTtcclxuZXhwb3J0IGxldCBhY3Rpb25fZGF0YSA9IHt9O1xyXG5leHBvcnQgbGV0IHRpbGVfYnVmZmVyID0gMDsgLy8gVGlsZSBCdWZmZXI6IEhvdyBsYXJnZSB0aWxlcyBhcmVcclxuXHJcbmZ1bmN0aW9uIGRldGVybWluZUNsaWNrKGNsaWNrX3gsIGNsaWNrX3kpIHtcclxuICBjb25zdCBtaWRfb2Zmc2V0ID0gMTU7XHJcbiAgY29uc3QgbWlkX3dpZHRoID0gY2FudmFzLndpZHRoIC8gMjtcclxuICBjb25zdCBtaWRfaGVpZ2h0ID0gY2FudmFzLmhlaWdodCAvIDI7XHJcbiAgY29uc3QgbWlkX2xvdyA9IG1pZF93aWR0aCAtIG1pZF9vZmZzZXQ7XHJcbiAgY29uc3QgbWlkX2hpZ2ggPSBtaWRfd2lkdGggLSBtaWRfb2Zmc2V0O1xyXG4gIGlmIChwb2x5Z29uX2NsaWNrX3Rlc3QoNCxcclxuICAgIFttaWRfbG93LCBtaWRfaGlnaCwgbWlkX2hpZ2gsIG1pZF9sb3ddLCAvLyB4IHZhbHVlc1xyXG4gICAgW21pZF9sb3csIG1pZF9sb3csIG1pZF9oaWdoLCBtaWRfaGlnaF0sIC8vIHkgdmFsdWVzXHJcbiAgICBjbGlja194LCBjbGlja195KSkge1xyXG4gICAgc2VuZEFjdGlvbih7J2tleUNvZGUnOiAzMiwgJ3ByZXZlbnREZWZhdWx0JzogZnVuY3Rpb24oKXt9fSk7IC8vIFNwYWNlYmFyXHJcbiAgfVxyXG4gIGVsc2UgaWYgKHBvbHlnb25fY2xpY2tfdGVzdCgzLFxyXG4gICAgWzAsIG1pZF93aWR0aCwgY2FudmFzLndpZHRoXSwgWzAsIG1pZF9oZWlnaHQsIDBdLFxyXG4gICAgY2xpY2tfeCwgY2xpY2tfeSkpIHtcclxuICAgIHNlbmRBY3Rpb24oeydrZXlDb2RlJzogMzgsICdwcmV2ZW50RGVmYXVsdCc6IGZ1bmN0aW9uKCl7fX0pOyAvLyBVcFxyXG4gIH1cclxuICBlbHNlIGlmIChwb2x5Z29uX2NsaWNrX3Rlc3QoMyxcclxuICAgIFswLCBtaWRfd2lkdGgsIGNhbnZhcy53aWR0aF0sIFtjYW52YXMuaGVpZ2h0LCBtaWRfaGVpZ2h0LCBjYW52YXMuaGVpZ2h0XSxcclxuICAgIGNsaWNrX3gsIGNsaWNrX3kpKSB7XHJcbiAgICBzZW5kQWN0aW9uKHsna2V5Q29kZSc6IDQwLCAncHJldmVudERlZmF1bHQnOiBmdW5jdGlvbigpe319KTsgLy8gRG93blxyXG4gIH1cclxuICBlbHNlIGlmIChwb2x5Z29uX2NsaWNrX3Rlc3QoMyxcclxuICAgIFswLCBtaWRfd2lkdGgsIDBdLCBbMCwgbWlkX2hlaWdodCwgY2FudmFzLmhlaWdodF0sXHJcbiAgICBjbGlja194LCBjbGlja195KSkge1xyXG4gICAgc2VuZEFjdGlvbih7J2tleUNvZGUnOiAzNywgJ3ByZXZlbnREZWZhdWx0JzogZnVuY3Rpb24oKXt9fSk7IC8vIExlZnRcclxuICB9XHJcbiAgZWxzZSBpZiAocG9seWdvbl9jbGlja190ZXN0KDMsXHJcbiAgICBbY2FudmFzLndpZHRoLCBtaWRfd2lkdGgsIGNhbnZhcy53aWR0aF0sIFswLCBtaWRfaGVpZ2h0LCBjYW52YXMuaGVpZ2h0XSxcclxuICAgIGNsaWNrX3gsIGNsaWNrX3kpKSB7XHJcbiAgICBzZW5kQWN0aW9uKHsna2V5Q29kZSc6IDM5LCAncHJldmVudERlZmF1bHQnOiBmdW5jdGlvbigpe319KTsgLy8gUmlnaHRcclxuICB9XHJcbn1cclxuXHJcbi8vIHBvbHlnb25fY2xpY2tfdGVzdCBieSBXbS4gUmFuZG9scGggRnJhbmtsaW5cclxuLy8gaW50IGxpc3QoaW50KSBsaXN0KGludCkgaW50IGludCAtPiBib29sXHJcbi8vIENvbnN1bWVzIHRoZSBudW1iZXIgb2YgdmVydGljZXMsIGFsb25nIHdpdGggZWFjaCB2ZXJ0ZXggY29vcmRpbmF0ZSxcclxuLy8gYXMgYSBsaXN0IG9mIHggY29vcmRpbmF0ZXMgYW5kIGEgc2Vjb25kIGxpc3Qgb2YgeSBjb29yZGluYXRlcy5cclxuLy8gVGVzdHMgYWdhaW5zdCBjbGlja2VkIGNvb3JkaW5hdGVzIHRvIGRldGVybWluZSB3aGV0aGVyIHRoZVxyXG4vLyBjbGljayB3YXMgd2l0aGluIHRoZSBwb2x5Z29uIGZvcm1lZCBieSBzYWlkIHZlcnRpY2VzLlxyXG5mdW5jdGlvbiBwb2x5Z29uX2NsaWNrX3Rlc3QoIG52ZXJ0LCB2ZXJ0eCwgdmVydHksIHRlc3R4LCB0ZXN0eSApIHtcclxuICAgIGxldCBpLCBqLCBjID0gZmFsc2U7XHJcbiAgICBmb3IoIGkgPSAwLCBqID0gbnZlcnQtMTsgaSA8IG52ZXJ0OyBqID0gaSsrICkge1xyXG4gICAgICAgIGlmKCAoICggdmVydHlbaV0gPiB0ZXN0eSApICE9ICggdmVydHlbal0gPiB0ZXN0eSApICkgJiZcclxuICAgICAgICAgICAgKCB0ZXN0eCA8ICggdmVydHhbal0gLSB2ZXJ0eFtpXSApICogKCB0ZXN0eSAtIHZlcnR5W2ldICkgLyAoIHZlcnR5W2pdIC0gdmVydHlbaV0gKSArIHZlcnR4W2ldICkgKSB7XHJcbiAgICAgICAgICAgICAgICBjID0gIWM7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldENsaWNrQ29vcmRzKGUpIHtcclxuICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgY29uc3QgY2xpY2tfeCA9IGUub2Zmc2V0WDtcclxuICBjb25zdCBjbGlja195ID0gZS5vZmZzZXRZO1xyXG4gIGRldGVybWluZUNsaWNrKGNsaWNrX3gsIGNsaWNrX3kpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRUb3VjaENvb3JkcyhlKSB7XHJcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIGNvbnN0IGNsaWNrX3ggPSBlLnRvdWNoZXNbMF0uY2xpZW50WCAtIGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xyXG4gIGNvbnN0IGNsaWNrX3kgPSBlLnRvdWNoZXNbMF0uY2xpZW50WSAtIGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XHJcbiAgZGV0ZXJtaW5lQ2xpY2soY2xpY2tfeCwgY2xpY2tfeSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBsaXN0ZW5lcigpIHtcclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgc2VuZEFjdGlvbik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjbGlja0xpc3RlbmVyKCkge1xyXG4gIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBnZXRDbGlja0Nvb3Jkcyk7XHJcbiAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBnZXRUb3VjaENvb3Jkcyk7XHJcbiAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpfSk7XHJcbn1cclxuXHJcbi8qIE1PVkVNRU5UICovXHJcbmZ1bmN0aW9uIHNlbmRBY3Rpb24oZSkge1xyXG4gIGlmICghW1xyXG4gICAgMzIsIDM3LCAzOCwgMzksIDQwLCA2NSwgNjgsIDY5LCA4MywgODdcclxuICBdLmluY2x1ZGVzKGUua2V5Q29kZSkpIHJldHVybjtcclxuICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gIGlmIChlLmtleUNvZGUgPT0gMzIpIHsgLy8gU3BhY2ViYXJcclxuICAgIGNvbnNvbGUubG9nKFwiRXZlbnR1YWxseSB3ZSB3aWxsIGltcGxlbWVudCB0aGUgc3BhY2ViYXIgZm9yIGludGVyYWN0aW5nXCJcclxuICAgICAgKyBcIiB3aXRoIGl0ZW1zIGJlbG93IHlvdXIgY2hhcmFjdGVyLlwiKTtcclxuICB9XHJcblxyXG4gIHNvY2tldC5lbWl0KCdqc29uJywgSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgJ3VzZXJuYW1lJzogdXNlcixcclxuICAgICdhY3Rpb24nOiBlLmtleUNvZGUsXHJcbiAgfSkpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRvTW92ZShtb3ZlbWVudCkge1xyXG4gIGN4ID0gbW92ZW1lbnQuY3g7XHJcbiAgY3kgPSBtb3ZlbWVudC5jeTtcclxuICBkaXIgPSBtb3ZlbWVudC5kaXJlY3Rpb247XHJcbn1cclxuXHJcbmxldCBsYXN0O1xyXG4oZnVuY3Rpb24gKCkge1xyXG4gIGZ1bmN0aW9uIG1haW4oIHRpbWVzdGFtcCApIHtcclxuICAgIGlmICghbGFzdCkge1xyXG4gICAgICBsYXN0ID0gdGltZXN0YW1wXHJcbiAgICAgIGRyYXcoKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBpZiAodGltZXN0YW1wIC0gbGFzdCA+IDEwMCkge1xyXG4gICAgICAgIGRyYXcoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCBtYWluICk7XHJcbiAgfVxyXG5cclxuICBzb2NrZXQub24oJ2Nvbm5lY3QnLCBmdW5jdGlvbigpIHtcclxuICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImF1dGhlbnRpY2F0aW9uXCIpO1xyXG4gICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgc29ja2V0LmVtaXQoJ2F1dGhlbnRpY2F0aW9uJywgSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICd1c2VybmFtZSc6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VybmFtZScpLnZhbHVlXHJcbiAgICAgIH0pKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBzb2NrZXQub24oJ2F1dGhlbnRpY2F0ZWQnLCBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICBkYXRhID0gSlNPTi5wYXJzZShkYXRhKTtcclxuICAgIGNvbnN0IG1zZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWVzc2FnZVwiKTtcclxuICAgIGlmIChkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgbXNnLmlubmVySFRNTCA9IFwiQXV0aGVudGljYXRlZCBzdWNjZXNzZnVsbHkhXCI7XHJcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgbXNnLmlubmVySFRNTCA9IFwiTG9hZGluZyBkYXRhLi4uXCI7XHJcbiAgICAgICAgc29ja2V0LmVtaXQoJ3JldHJpZXZlX2luaXRfZGF0YScsIEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICd1c2VybmFtZSc6IGRhdGEudXNlcm5hbWVcclxuICAgICAgICB9KSk7XHJcbiAgICAgIH0sIDYwMCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgbXNnLmlubmVySFRNTCA9IFwiQXV0aGVudGljYXRpb24gZmFpbGVkLiBQbGVhc2UgdHJ5IGFnYWluLlwiO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBmdW5jdGlvbiBsb2FkTWFwKGF0dGVtcHRzKSB7XHJcbiAgICBjb25zdCBsb2FkZWQgPSBjaGVja0RhdGFBY3F1aXJlZCgpO1xyXG4gICAgY29uc3QgbXNnID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtZXNzYWdlXCIpO1xyXG4gICAgaWYgKGxvYWRlZCkge1xyXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhdXRoJykuY2xhc3NOYW1lID0gXCJoaWRlXCI7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWFpbicpLmNsYXNzTmFtZSA9IFwic2hvd1wiO1xyXG4gICAgICAgIG1zZy5pbm5lckhUTUwgPSBcIldlbGNvbWUgdG8gdGhlIHdvcmxkLlwiO1xyXG4gICAgICAgIG1haW4oKTsgLy8gU3RhcnQgdGhlIGN5Y2xlXHJcbiAgICAgICAgbGlzdGVuZXIoKTsgLy8gQmVnaW4gbW92ZW1lbnQgbGlzdGVuZXJzXHJcbiAgICAgICAgY2xpY2tMaXN0ZW5lcigpO1xyXG4gICAgICB9LCAxMDAwKTtcclxuICAgICAgcmV0dXJuOyAvLyBEbyBub3QgZXhlY3V0ZSB0aGUgcmVzdCBvZiB0aGUgZnVuY3Rpb24uXHJcbiAgICB9XHJcbiAgICBhdHRlbXB0cysrO1xyXG4gICAgaWYgKGF0dGVtcHRzIDwgMTApIHtcclxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgIGxvYWRNYXAoYXR0ZW1wdHMpO1xyXG4gICAgICB9LCAxMDApO1xyXG4gICAgICByZXR1cm47IC8vIERvIG5vdCBleGVjdXRlIHRoZSByZXN0IG9mIHRoZSBmdW5jdGlvbi5cclxuICAgIH1cclxuXHJcbiAgICBtc2cuaW5uZXJIVE1MID0gXCJGYWlsZWQgdG8gZ2V0IGRhdGEgZnJvbSB0aGUgc2VydmVyLlwiO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY2hlY2tEYXRhQWNxdWlyZWQoKSB7XHJcbiAgICBjb25zdCBnb3RfdXNlciA9IHVzZXIgIT09IFwiXCI7XHJcbiAgICBjb25zdCBnb3RfbWFwID0gbWFwICE9PSB1bmRlZmluZWQgfHwgbWFwLmxlbmd0aCA+IDA7XHJcbiAgICByZXR1cm4gZ290X3VzZXIgJiYgZ290X21hcDtcclxuICB9XHJcblxyXG4gIC8vIFJlY2lldmVzIGFuZCBwb3B1bGF0ZXMgaW5pdGlhbCBkYXRhLlxyXG4gIHNvY2tldC5vbignaW5pdF9kYXRhJywgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xyXG4gICAgW3VzZXIsIFtjeCwgY3ksIGRpcl0sIG1hcCwgW3RpbGVfYnVmZmVyLCBzeCwgc3ldXSA9IGRhdGE7XHJcbiAgICBpZiAoY2FudmFzLndpZHRoIDwgNDUwKSB7XHJcbiAgICAgIHN4ID0gNDtcclxuICAgICAgc3kgPSA0O1xyXG4gICAgfVxyXG4gICAgbG9hZE1hcCgwKTtcclxuICB9KTtcclxuXHJcbiAgc29ja2V0Lm9uKCdvYmplY3RfYWN0aW9uJywgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgIGFjdGlvbl9kYXRhID0gSlNPTi5wYXJzZShkYXRhKTtcclxuICB9KTtcclxuXHJcbiAgLy8gUmVjaWV2ZXMgYW5kIHBvcHVsYXRlcyBtYXAgZGF0YS5cclxuICBzb2NrZXQub24oJ21hcF9kYXRhJywgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xyXG4gICAgbWFwID0gZGF0YVxyXG4gIH0pO1xyXG5cclxuICAvLyBNb3ZlcyB0aGUgbG9jYWwgcGxheWVyXHJcbiAgc29ja2V0Lm9uKCdtb3ZlbWVudF9zZWxmJywgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xyXG4gICAgaWYgKHVzZXIgPT0gZGF0YS51c2VybmFtZSlcclxuICAgICAgZG9Nb3ZlKGRhdGEpO1xyXG4gIH0pO1xyXG5cclxuICAvLyBVcGRhdGVzIGFsbCBwbGF5ZXJzXHJcbiAgc29ja2V0Lm9uKCd1cGRhdGVfYWxsJywgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgIGFsbF91c2VycyA9IEpTT04ucGFyc2UoZGF0YSk7XHJcbiAgfSk7XHJcblxyXG4gIHNvY2tldC5vbignZmFpbHVyZScsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICBjb25zb2xlLmxvZygnVW5zeW5jaHJvbml6ZWQuJyk7XHJcbiAgfSk7XHJcbn0pKCk7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n')}]);